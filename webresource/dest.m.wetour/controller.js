define("template/index",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='<header> <div sn-binding="class:menu"></div> <div sn-binding="html:title,class:titleClass"></div> </header> <div class="main" data-index="0"> <ul class="recommend_list"> <li class="recommend_item" sn-repeat="item in data0" sn-binding="data-id:item.ID"> <img sn-binding="src:item.Pic" /> <div class="recommend_name" sn-binding="html:item.Name"></div> <div class="recommend_fav" sn-binding="html:item.Favorite"></div> </li> </ul> </div> <div class="main" style="display:none" data-index="1"> <ul class="recommend_list"> <li class="recommend_item" sn-repeat="item in data1" sn-binding="data-id:item.ID"> <img sn-binding="src:item.Pic" /> <div class="recommend_name" sn-binding="html:item.Name"></div> <div class="recommend_fav" sn-binding="html:item.Favorite"></div> </li> </ul> </div> <div class="main" style="display:none" data-index="2"> <ul class="recommend_list"> <li class="recommend_item" sn-repeat="item in data2" sn-binding="data-id:item.ID"> <img sn-binding="src:item.Pic" /> <div class="recommend_name" sn-binding="html:item.Name"></div> <div class="recommend_fav" sn-binding="html:item.Favorite"></div> </li> </ul> </div> <div class="main" style="display:none" data-index="3"> <ul class="recommend_list"> <li class="recommend_item" sn-repeat="item in data3" sn-binding="data-id:item.ID"> <img sn-binding="src:item.Pic" /> <div class="recommend_name" sn-binding="html:item.Name"></div> <div class="recommend_fav" sn-binding="html:item.Favorite"></div> </li> </ul> </div> <ul class="footer"> <li class="curr">推荐</li> <li>目的地</li> <li>活动</li> <li>驴友圈</li> </ul>';return __},helpers:{}});return T.template=T.html,T});define("views/index",["images/style.css"],function(t,e,n){var i=t("$"),s=(t("util"),t("activity")),o=t("../widget/loading"),a=t("../widget/slider"),c=t("../core/model"),l=t("../widget/scroll");t("animation");return s.extend({events:{tap:function(t){t.target==this.el&&this.back("/")},"tap .head_menu":function(t){this.forward("/menu")},"tap .footer li":function(t){var e=i(t.currentTarget);if(!e.hasClass("curr")){var n=e.index();e.addClass("curr").siblings(".curr").removeClass("curr"),this.$main.eq(n).show().siblings(".main").hide(),this.loading[n].isDataLoaded||this.loading[n].load()}}},swipeRightForwardAction:"/menu",className:"home",onCreate:function(){var t=this;this.model=new c.ViewModel(this.$el,{menu:"head_menu",titleClass:"head_title",title:"福州"});var e=this.$main=this.$(".main");l.bind(e,{refresh:function(e,n){var i=this.parentNode.getAttribute("data-index");1==i?e():t.loading[i].reload({showLoading:!1},function(t,i){t?n(t):e(i)})}}),this.loading=[],["/api/activity/recommend","/api/destination/list?getall=1","/api/activity/list","/api/activity/recommend"].forEach(function(n,i){var r=new o({url:n,$el:e.eq(i),$content:e.eq(i).children(":first-child"),$scroll:e.eq(i),success:function(e){this.isDataLoaded=!0,1==i?t.slider=new a(this.$content,{arrow:!0,itemTemplate:'<img src="<%=LargePic%>">',data:e.data}):t.model.set("data"+i,e.data)},append:function(e){t.model.get("data"+i).append(e.data)}});t.loading.push(r)}),this.loading[0].load()},onShow:function(){},onDestory:function(){}})});define("template/menu",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='<div class="menu_bd"> <div class="menu_user" sn-binding="data-back:memberUrl"> <img class="menu_avatars" sn-binding="src:user.Avatars" /> <div class="menu_username"> <h1 sn-binding="html:user.NickName"></h1> <h2 sn-binding="html:user.Mobile"></h2> </div> </div> <ul class="menu_list"> <li class="menu_activity" data-back="/">我的活动</li> <li class="menu_comments" data-back="/settings">我的评论</li> </ul> <ul class="menu_list"> <li class="menu_pwd" data-back="/">修改密码</li> <li class="menu_settings" data-back="/settings">设置</li> <li class="menu_logout" sn-binding="html:logoutOrLogin,data-back:logout">退出</li> </ul> </div>';return __},helpers:{}});return T.template=T.html,T});define("views/menu",["images/style.css"],function(t,e,n){var s=(t("$"),t("util"),t("activity")),o=t("core/model");t("../widget/scroll"),t("../widget/loading");return s.extend({toggleAnim:"menu",className:"menu",events:{tap:function(t){}},swipeLeftBackAction:"/",onCreate:function(){this.model=new o.ViewModel(this.$el,{memberUrl:"/member"});var e=localStorage.getItem("user");e?(this.user=e=JSON.parse(e),this.model.set("user",e)):this.model.set("user",{NickName:"未登录"})},onShow:function(){var t=this;t.user&&t.model.set("user.Avatars",t.user.Avatars+"?v="+localStorage.getItem("avatars_ver"))},onDestory:function(){}})});define("template/about",function(require){var util=require("util"),T={html:function($data){var __="";with($data||{})__+='<header> <div class="head_back" sn-binding="data-back:back"></div> <div sn-binding="html:title" class="head_title"></div> </header> <div class="main"> <div class="aboutus"> 邻师是一个针对0～18岁学生（家长）和教师的教育资源整合平台，我们专门帮助小微培训机构，教师工作室及教师个人进行品牌塑造和市场推广，我们希望让老师能够招到更多的优质学生，让学生找到更合适自己的老师。 <img src="'+util.encodeHTML(webresource("images/aboutus.jpg"))+'" /> <div class="aboutus_ver">发现身边好老师</div> </div> </div> ';return __},helpers:{}};return T.template=T.html,T});define("template/member",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='<header> <div class="head_back" sn-binding="data-back:back"></div> <div sn-binding="html:title" class="head_title"></div> </header> <div class="main"> <div class="member"> <iframe style="top:-999px;left:-999px;position:absolute;display:none;" frameborder="0" width="0" height="0" name="__upload"></iframe> <form sn-binding="action:upload" method="post" class="member_avatars" enctype="multipart/form-data"> <input type="file" name="headPic" /> <input type="hidden" name="member_id" sn-binding="value:member.member_id" /> <img sn-binding="src:member.head_photo" /> </form> <ul class="member_info"> <li> <div>昵称</div> <div><input sn-binding="value:member.nick_name,readonly:nick_name.readonly" sn-model="nick_name.input" /></div> <b sn-binding="class:nick_name.edit,html:nick_name.value" sn-on="click:nick_name.click"></b> </li> <li class="member_one"> <div>性别：</div> <div> <span class="radio" member="gender" value="男" sn-binding="class:member.sex|case:\'男\':\'checked radio\':\'radio\'">男</span> <span class="radio" member="gender" value="女" sn-binding="class:member.sex|case:\'女\':\'checked radio\':\'radio\'">女</span> </div> </li> <li> <div>地址</div> <div><input sn-binding="value:member.address,readonly:address.readonly" sn-model="address.input" /></div> <b sn-binding="class:address.edit,html:address.value" sn-on="click:address.click"></b> </li> </ul> </div> </div> ';return __},helpers:{}});return T.template=T.html,T});define("views/about",["images/style.css"],function(t,e,i){var s=(t("$"),t("util"),t("activity")),a=(t("../widget/extend/loading"),t("../core/model")),l=t("../widget/scroll");t("animation");return s.extend({events:{},swipeRightBackAction:"/settings",onCreate:function(){var e=this.$(".main");l.bind(e),this.model=new a.ViewModel(this.$el,{back:"/settings",title:"关于我们"})},onShow:function(){},onDestory:function(){}})});define("views/member",["images/style.css"],function(t,e,i){var n=t("$"),s=(t("util"),t("activity")),o=t("core/model"),l=(t("../widget/scroll"),t("bridge")),c=t("../widget/extend/loading"),u=0;return s.extend({events:{'tap [member="gender"]':function(t){var e=t.currentTarget.getAttribute("value");this.model.get("member.sex")!=e&&this.setMemberInfo({member_id:this.model.get("member.member_id"),sex:e})},'change form input[type="file"]':function(t){u++;var e=this,r=(t.target.parentNode,new FileReader);r.onload=function(t){e.loading.showLoading(),n.post(l.url("/user/edit_photo"),{headPic:encodeURIComponent(t.target.result.replace(/^data\:image\/[a-z]+\;base64,/g,"")),member_id:e.member.member_id},function(t){if(0!=t.error_code)sl.tip(t.error_msg);else{var i=Date.now();localStorage.setItem("photo_ver",i),e.model.set("member",{head_photo:t.data.head_photo+"?v="+i})}e.loading.hideLoading()},"json")},r.readAsDataURL(t.target.files[0])}},swipeRightBackAction:"/",setMemberInfo:function(t){var e=this;this.loading.showLoading(),n.post(l.url("/user/edit_member_info"),t,function(i){0!=i.error_code?sl.tip(i.error_msg):e.model.set("member",t),e.loading.hideLoading()},"json")},onCreate:function(){var t=this;this.model=new o.ViewModel(this.$el,{title:"个人信息",back:"/",upload:l.url("/user/edit_photo")}),["nick_name","address"].forEach(function(e){t.model.set(e,{edit:"edit",value:"",readonly:!0,click:function(i){if("edit"==this.edit)t.model.set(e,{value:"确定",readonly:null,edit:"editing"}),t["$"+e].focus();else{if(t.model.data.member[e]!=this.input){var n={member_id:t.member.member_id};n[e]=this.input,t.setMemberInfo(n)}t.model.set(e,{readonly:!0,value:"",edit:"edit"})}}}),t["$"+e]=t.model.$el.find('[sn-model="'+e+'.input"]')})},onShow:function(){var t=this,e=localStorage.getItem("member");e?(t.member=e=JSON.parse(e),""===e.head_photo&&(e.head_photo=null),this.loading=new c({url:"/user/get_member_info",check:!1,checkData:!1,params:{member_id:e.member_id},$el:this.$el,success:function(i){t.member=e=n.extend(e,i.data),""===e.head_photo?e.head_photo=null:e.head_photo=e.head_photo+"?v="+localStorage.getItem("photo_ver"),localStorage.setItem("member",JSON.stringify(e)),t.model.set({member:e,"nick_name.input":e.nick_name,"address.input":e.address})}}),this.loading.load()):this.forward("/login")},onDestory:function(){}})});define("views/settings",["images/style.css"],function(t,e,i){var s=(t("$"),t("util"),t("activity")),a=(t("../widget/extend/loading"),t("../core/model")),l=t("../widget/scroll");t("animation");return s.extend({events:{"tap .js_bind:not(.disabled)":function(){},"tap .logout":function(){localStorage.getItem("member")?(localStorage.removeItem("member"),this.back("/")):this.forward("/login")}},swipeRightBackAction:"/",onCreate:function(){var e=this.$(".main");l.bind(e),this.model=new a.ViewModel(this.$el,{back:"/",title:"设置",settings:[{title:"关于我们",href:"/about"}]});var i=localStorage.getItem("member");i?(i=JSON.stringify(i),this.model.set("logout","退出当前账号")):this.model.set("logout","立即登录")},onShow:function(){},onDestory:function(){}})});define("template/settings",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='<header> <div class="head_back" sn-binding="data-back:back"></div> <div sn-binding="html:title" class="head_title"></div> </header> <div class="main"> <div class="settings"> <ul class="settings_list"> <li sn-repeat="item in settings" sn-binding="html:item.title,data-forward:item.href"></li> </ul> <div class="logout" sn-binding="html:logout">退出当前账号</div> </div> </div>';return __},helpers:{}});return T.template=T.html,T});define("template/login",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='<header> <div sn-binding="html:title" class="head_title"></div> <div class="head_back" sn-binding="data-back:back"></div> </header> <div class="main"> <div class="login_form"> <ul class="form"> <li><input placeholder="输入手机号" sn-model="mobile" /></li> <li><input placeholder="输入密码" sn-model="password" type="password" /></li> </ul> <div class="login_btn"><b class="btn_large js_login">登录</b> </div> <div class="login_notice"><a href="/register" forward>我要注册</a> | <a href="/forget" forward>忘记密码？</a></div> </div> </div> ';return __},helpers:{}});return T.template=T.html,T});define("views/login",["images/style.css"],function(t,e,i){var r=(t("$"),t("util")),s=t("activity"),a=t("../widget/loading"),o=t("../core/model"),l=t("../widget/scroll");t("animation");return s.extend({events:{"tap .js_bind:not(.disabled)":function(){var t=this.model.get("mobile"),e=this.model.get("password");return t&&r.validateMobile(t)?e?void this.loading.setParam({mobile:t,valid_code:e,type:7}).load():void sl.tip("请输入验证码"):void sl.tip("请输入正确的手机")},"tap .js_valid:not(.disabled)":function(t){var e=this.model.get("mobile");return e&&r.validateMobile(e)?(this.$valid.addClass("disabled"),this.valid.setParam({mobile:this.model.data.mobile}),void this.valid.load()):void sl.tip("请输入正确的手机")}},validTimeout:function(){var t=this,e=localStorage.getItem("valid_time");if(e&&parseInt(e)>60){if(e=Math.round((new Date(parseInt(e)).getTime()-Date.now())/1e3),0>=e)return;t.$valid.addClass("disabled"),setTimeout(function(){0>=e?(t.$valid.removeClass("disabled"),t.model.set("valid","获取验证码"),localStorage.removeItem("valid_time")):(t.model.set("valid",e+"秒"),e--,setTimeout(arguments.callee,1e3))},1e3)}},onCreate:function(){var t=this,e=this.$(".main");l.bind(e),this.model=new o.ViewModel(this.$el,{title:"快速登录 / 注册",valid:"获取验证码",back:this.route.queries.from||"/"}),this.loading=new a({url:"/user/smslogin",method:"POST",check:!1,checkData:!1,$el:this.$el,xhrFields:{withCredentials:!0},success:function(e){e.error_msg?sl.tip(e.error_msg):(localStorage.setItem("member",JSON.stringify({mobile:t.model.data.mobile,member_id:e.data.member_id,user_name:t.model.data.mobile})),t.back(t.route.queries.success||"/"))},error:function(t){sl.tip(t.msg)}}),this.valid=new a({url:"/sms/send_valid_code",method:"POST",xhrFields:{withCredentials:!0},params:{mobile:t.model.data.mobile,type:7},check:!1,checkData:!1,$el:this.$el,success:function(e){1==e.error_code?sl.tip(e.error_msg):(localStorage.setItem("valid_time",Date.now()+6e4),t.validTimeout())}}),t.$valid=this.$(".js_valid"),t.validTimeout()},onShow:function(){},onDestory:function(){}})});define("template/search",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='\ufeff<header> <div class="head_back" data-back="/"></div> <div class="head_search"><input placeholder="输入姓名或手机号搜索老师" sn-model="keywords" /></div> <div class="head_search_btn"><b class="btn_small js_search">搜索</b></div> </header> <div class="main"> <ul class="search_list"> <li class="search_item" sn-repeat="item in data" sn-binding="data-id:item.teacher_id"> <div class="s_teacher"><img class="search_photo" sn-binding="src:item.head_photo" /> <ul class="s_teacher_basic"> <li><strong class="s_name" sn-binding="html:item.teacher_name"></strong><em sn-binding="html:item.discipline"></em><i sn-binding="html:item.price|round|concat:\'元/小时\'"></i></li> <li><span class="s_area" sn-binding="html:item.area"></span><span class="s_age" sn-binding="html:item.teaching_age|concat:\'教龄\'"></span></li> <li class="s_data"><span sn-binding="html:item.class_hours_number|concat:\'小时\'"></span><span sn-binding="html:item.students_number|concat:\'个\'"></span><span sn-binding="html:item.praise_rate"></span><span sn-binding="html:item.continue_rate"></span></li> </ul> </div> <!--<div class="s_honor" sn-binding="html:item.honor|format:\'获得荣誉：{0}\'"></div>--> <ul class="s_cert"> <li class="cert" sn-binding="display:item.certification_flag">身份认证</li> <li class="t_cert" sn-binding="display:item.teacher_certification_flag">教师资格认证</li> <li class="education" sn-binding="display:item.education_flag">学历认证</li> </ul> </li> </ul> </div> ';return __},helpers:{}});return T.template=T.html,T});define("template/teacher",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='\ufeff<header> <div class="head_back" sn-binding="data-back:back"></div> <div sn-binding="html:title" class="head_title"></div> </header> <div class="main teacherwrap"> <div class="teacher_info"> <div class="teacher_basic"> <img class="head_photo" sn-binding="src:basic_info.head_photo" /> <div class="tb_item"> <h1 class="teacher_name" sn-binding="html:basic_info.teacher_name"></h1> <div class="teacher_area" sn-binding="html:basic_info.area"></div> </div> <div class="tb_item"> <h2 class="discipline" sn-binding="html:basic_info.discipline"></h2> <div class="teaching_age" sn-binding="html:basic_info.teaching_age|concat:\'教龄\'"></div> </div> </div> <ul class="teacher_cert"> <li class="cert" sn-binding="display:basic_info.certification_flag">身份认证</li> <li class="t_cert" sn-binding="display:basic_info.teacher_certification_flag">教师资格认证</li> <li class="education" sn-binding="display:basic_info.education_flag">学历认证</li> </ul> <!-- <div class="teacher_honor" sn-binding="html:basic_info.honor"></div--> </div> <ul class="teacher_data"> <li sn-binding="html:basic_info.class_hours_number|concat:\'小时\'"></li> <li sn-binding="html:basic_info.students_number|concat:\'个\'"></li> <li sn-binding="html:basic_info.praise_rate"></li> <li sn-binding="html:basic_info.continue_rate"></li> </ul> <div class="tabs_nav"> <ul class="tabs_nav_con"> <li class="curr">经历</li> <li>评价</li> </ul> </div> <div class="tabs_content"> <div class="tabs_panel teacher_exp curr"> <h4>过往经历</h4> <dl sn-repeat="item in past_experience"> <dt sn-binding="html:item.date_area"></dt> <dd sn-binding="html:item.content"></dd> </dl> <h4>教学成果</h4> <dl sn-repeat="item in teaching_achievements"> <dt sn-binding="html:item.date_area"></dt> <dd sn-binding="html:item.content"></dd> </dl> </div> <div class="tabs_panel teacher_cmt"> <div class="teacher_cmt_item" sn-repeat="item in appraise_list"> <div class="name"> <b sn-binding="html:item.student_name"></b> <span class="class_time" sn-binding="html:item.class_time|format:\'{0}课时\'"></span> <div class="score"> <i></i><i></i><i></i><i></i><i></i> <div class="score_bd" sn-binding="style.width:item.score|precent"> <i></i><i></i><i></i><i></i><i></i> </div> </div> </div> <div class="comments" sn-binding="html:item.comments"></div> <div class="comments_sub" sn-binding="html:item.comment_type|concat:\' \':item.raw_add_time"></div> </div> </div> </div> </div> <footer class="bottom_bar"> <b class="btn_large" data-forward="/appointment">免费试听</b> </footer> ';return __},helpers:{}});return T.template=T.html,T});define("views/search",["images/style.css"],function(t,e,i){var r=(t("$"),t("util"),t("activity")),a=t("../widget/extend/loading"),o=t("../core/model"),l=t("../widget/scroll");t("animation");return r.extend({events:{'tap [sn-repeat-name="data"][data-id]':function(t){this.forward("/teacher/"+t.currentTarget.getAttribute("data-id")+"?from="+this.route.url)},"tap .js_search":function(t){var e=this.getParam(this.model.data.keywords);this.loading.setParam(e).reload()}},getParam:function(t){var e={compare_field:"q"==t?"":t};return this.route.queries.course_category&&(e.course_category=this.route.queries.course_category),e},onCreate:function(){var t=this,e=this.$(".main");l.bind(e,{refresh:function(e,i){t.loading.reload({showLoading:!1},function(t,n){t?i(t):e(n)})}}),this.loading=new a({url:"/teacher/teacher_list",check:!1,checkData:!1,params:this.getParam(this.route.data.keywords),$el:this.$el,$content:e.children(":first-child"),$scroll:e,success:function(e){e.data.length>=10?e.total=(this.pageIndex+1)*this.pageSize:e.data&&e.data.length||this.showError({showReload:!1,msg:"搜索不到您要找的老师"}),console.log(t.model),t.model.set(e)},append:function(e){e.data.length>=10&&(e.total=(this.pageIndex+1)*this.pageSize),t.model.get("data").append(e.data)}}),this.model=new o.ViewModel(this.$el,{}),this.loading.load()},onShow:function(){},onDestory:function(){}})});define("views/teacher",["images/style.css"],function(t,e,i){var n=t("$"),r=(t("util"),t("activity")),a=t("../widget/extend/loading"),o=t("../core/model"),l=t("../core/promise"),c=t("../widget/scroll");t("animation");return r.extend({events:{"tap .tabs_nav_con li:not(.curr)":function(t){var e=n(t.currentTarget);e.addClass("curr").siblings(".curr").removeClass("curr"),this.$panels.eq(e.index()).addClass("curr").siblings(".curr").removeClass("curr")}},onCreate:function(){var t=this;this.promise=new l,this.$main=this.$(".main"),c.bind(this.$main),this.$panels=this.$(".tabs_panel"),o.Filter.precent=function(t){return parseFloat(t)+"%"},this.model=new o.ViewModel(this.$el,{title:"老师详情页",back:this.route.queries.from||"/"}),this.loading=new a({url:"/teacher/teacher_info",params:{teacher_id:this.route.data.id},check:!1,checkData:!1,$el:this.$el,$content:this.$main.children(":first-child"),$scroll:this.$main,success:function(e){t.promise.then(function(){t.model.set(e.data)}),localStorage.setItem("teacher",JSON.stringify(e.data))}}),this.loading.load()},onLoad:function(){this.promise.resolve()},onDestory:function(){}})});define("template/register",function(require){var T=(require("util"),{html:function($data){var __="";with($data||{})__+='\ufeff<header> <div sn-binding="html:title" class="head_title"></div> <div class="head_back" sn-binding="data-back:back"></div> </header> <div class="main"> <div class="login_form"> <ul class="form"> <li><input placeholder="输入手机号" sn-model="mobile" /></li> <li><input placeholder="验证码" sn-model="smsCode" type="text" /> <b class="js_valid" sn-binding="html:valid"></b></li> <li><input placeholder="设置密码" sn-model="password" type="password" /></li> <li><input placeholder="再次输入确认密码" sn-model="password1" type="password" /></li> </ul> <div class="login_btn"><b class="btn_large js_bind">确定注册</b> </div> </div> </div> ';return __},helpers:{}});return T.template=T.html,T});define("views/register",["images/style.css"],function(t,e,i){var s=(t("$"),t("util")),r=t("activity"),a=t("../widget/loading"),o=t("../core/model"),l=t("../widget/scroll"),u=(t("animation"),t("util/md5"));return r.extend({events:{"tap .js_bind:not(.disabled)":function(){var t=this.model.data.mobile,e=this.model.data.password,i=this.model.data.password1,n=this.model.data.smsCode;return t&&s.validateMobile(t)?e!=i?void sl.tip("两次密码输入不一致"):n?void this.loading.setParam({mobile:t,password:u.md5(e),smsCode:n}).load():void sl.tip("请输入验证码"):void sl.tip("请输入正确的手机")},"tap .js_valid:not(.disabled)":function(t){var e=this.model.get("mobile");return e&&s.validateMobile(e)?(this.$valid.addClass("disabled"),this.valid.setParam({mobile:this.model.data.mobile}),void this.valid.load()):void sl.tip("请输入正确的手机")}},validTimeout:function(){var t=this,e=localStorage.getItem("valid_time");if(e&&parseInt(e)>60){if(e=Math.round((new Date(parseInt(e)).getTime()-Date.now())/1e3),0>=e)return;t.$valid.addClass("disabled"),setTimeout(function(){0>=e?(t.$valid.removeClass("disabled"),t.model.set("valid","获取验证码"),localStorage.removeItem("valid_time")):(t.model.set("valid",e+"秒"),e--,setTimeout(arguments.callee,1e3))},1e3)}},onCreate:function(){var t=this,e=this.$(".main");l.bind(e),this.model=new o.ViewModel(this.$el,{title:"快速登录 / 注册",valid:"获取验证码",back:this.route.queries.from||"/"}),this.loading=new a({url:"/api/user/register",method:"POST",check:!1,checkData:!1,$el:this.$el,success:function(e){e.success?(localStorage.setItem("user",e.data),t.back(t.route.queries.success||"/")):sl.tip(e.msg)},error:function(t){sl.tip(t.msg)}}),this.valid=new a({url:"/api/user/send_sms",method:"POST",params:{mobile:t.model.data.mobile},check:!1,checkData:!1,$el:this.$el,success:function(e){e.success?(localStorage.setItem("valid_time",Date.now()+6e4),t.validTimeout()):sl.tip(e.msg)}}),t.$valid=this.$(".js_valid"),t.validTimeout()},onShow:function(){},onDestory:function(){}})});
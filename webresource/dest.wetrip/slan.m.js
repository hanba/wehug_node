!function(e,t){function n(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function d(){return u++}function y(e){return e.match(v)[0]}function _(e){for(e=e.replace(m,"/");e.match(g);)e=e.replace(g,"/");return e=e.replace(h,"$1/")}function w(e){var t=e.length-1,r=e.charAt(t);return"#"===r?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)||"/"===r?e:e+".js"}function T(e){var r,t=i.paths;return t&&(r=e.match(b))&&s(t[r[1]])&&(e=t[r[1]]+r[2]),e}function j(e){var t=i.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(E,function(e,r){return s(t[r])?t[r]:e})),e}function x(e){var t=i.map,r=e;if(t)for(var n=0,a=t.length;a>n;n++){var s=t[n];if(r=c(s)?s(e)||e:e.replace(s[0],s[1]),r!==e)break}return r}function D(e,t){var r,n=e.charAt(0);if(A.test(e))r=e;else if("."===n)r=_((t?y(t):i.cwd)+e);else if("/"===n){var a=i.cwd.match(L);r=a?a[0]+e.substring(1):e}else r=i.base+e;return 0===r.indexOf("//")&&(r=location.protocol+r),r}function H(e,t){if(!e)return"";var r=i.alias&&i.alias[e];r&&s(r)&&(e=r),e=T(e),e=j(e),e=w(e);var n=D(e,t);return n=x(n),!r||K[n]||s(r)||(K[n]={exports:r,status:ee.EXECUTED,exec:te.prototype.exec}),n}function M(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function R(e,t,r,i){var n=C.test(e),a=k.createElement(n?"link":"script");r&&(a.charset=r),l(i)||a.setAttribute("crossorigin",i),n?t():F(a,t,n,e),n?(a.rel="stylesheet",a.href=e):(a.async=!0,a.src=e),I=a,S?O.insertBefore(a,S):O.appendChild(a),I=null}function F(e,t,r,n){function s(){e.onload=e.onerror=e.onreadystatechange=null,r||i.debug||O.removeChild(e),e=null,t()}var a="onload"in e;a?(e.onload=s,e.onerror=function(){p("error",{uri:n,node:e}),s()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&s()}}function V(){if(I)return I;if(G&&"interactive"===G.readyState)return G;for(var e=O.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return G=r}}function Q(e){var t=[];return e.replace(P,"").replace(z,function(e,r,i){i&&t.push(i)}),t}function te(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!e.seajs){var r=e.seajs={version:"2.2.3"},i=r.data={},a=n("Object"),s=n("String"),o=Array.isArray||n("Array"),c=n("Function"),l=n("Undefined"),u=0,f=i.events={};r.on=function(e,t){var i=f[e]||(f[e]=[]);return i.push(t),r},r.off=function(e,t){if(!e&&!t)return f=i.events={},r;var n=f[e];if(n)if(t)for(var a=n.length-1;a>=0;a--)n[a]===t&&n.splice(a,1);else delete f[e];return r};var p=r.emit=function(e,t){var n,i=f[e];if(i)for(i=i.slice();n=i.shift();)n(t);return r},v=/[^?#]*\//,m=/\/\.\//g,g=/\/[^\/]+\/\.\.\//,h=/([^:\/])\/\//g,b=/^([^\/:]+)(\/.+)$/,E=/{([^{]+)}/g,A=/^\/\/.|:\//,L=/^.*?\/\/.*?\//,k=document,q=y(k.URL),N=k.scripts,$=k.getElementById("seajsnode")||N[N.length-1],U=y(M($)||q);r.resolve=H;var I,G,O=k.head||k.getElementsByTagName("head")[0]||k.documentElement,S=O.getElementsByTagName("base")[0],C=/\.css(?:\?|$)/i;+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;r.request=R;var W,z=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,P=/\\\\/g,K=r.cache={},J={},Y={},Z={},ee=te.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};te.prototype.resolve=function(){for(var e=this,t=e.dependencies,r=[],i=0,n=t.length;n>i;i++)r[i]=te.resolve(t[i],e.uri);return r},te.prototype.load=function(){var e=this;if(!(e.status>=ee.LOADING)){e.status=ee.LOADING;var t=e.resolve();p("load",t);for(var i,r=e._remain=t.length,n=0;r>n;n++)i=te.get(t[n]),i.status<ee.LOADED?i._waitings[e.uri]=(i._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return void e.onload();var a={};for(n=0;r>n;n++)i=K[t[n]],i.status<ee.FETCHING?i.fetch(a):i.status===ee.SAVED&&i.load();for(var s in a)a.hasOwnProperty(s)&&a[s]()}},te.prototype.onload=function(){var e=this;e.status=ee.LOADED,e.callback&&e.callback();var r,i,t=e._waitings;for(r in t)t.hasOwnProperty(r)&&(i=K[r],i._remain-=t[r],0===i._remain&&i.onload());delete e._waitings,delete e._remain},te.prototype.fetch=function(e){function o(){r.request(a.requestUri,a.onRequest,a.charset,a.crossorigin)}function l(){delete J[s],Y[s]=!0,W&&(te.save(n,W),W=null);var e,t=Z[s];for(delete Z[s];e=t.shift();)e.load()}var t=this,n=t.uri;t.status=ee.FETCHING;var a={uri:n};p("fetch",a);var s=a.requestUri||n;return!s||Y[s]?void t.load():J[s]?void Z[s].push(t):(J[s]=!0,Z[s]=[t],p("request",a={uri:n,requestUri:s,onRequest:l,charset:c(i.charset)?i.charset(s):i.charset,crossorigin:c(i.crossorigin)?i.crossorigin(s):i.crossorigin}),void(a.requested||(e?e[a.requestUri]=o:o())))},te.prototype.exec=function(){function i(e){return te.get(i.resolve(e)).exec()}var e=this;if(e.status>=ee.EXECUTING)return e.exports;e.status=ee.EXECUTING;var r=e.uri;i.resolve=function(e){return te.resolve(e,r)},i.async=function(e,t){return te.use(e,t,r+"_async_"+d()),i};var n=e.factory,a=c(n)?n(i,e.exports={},e):n;return a===t&&(a=e.exports),delete e.factory,e.exports=a,e.status=ee.EXECUTED,p("exec",e),a},te.resolve=function(e,t){var i={id:e,refUri:t};return p("resolve",i),i.uri||r.resolve(i.id,t)},te.define=function(e,r,i){var n=arguments.length;1===n?(i=e,e=t):2===n&&(i=r,o(e)?(r=e,e=t):r=t),!o(r)&&c(i)&&(r=Q(i.toString()));var a={id:e,uri:te.resolve(e),deps:r,factory:i};if(!a.uri&&k.attachEvent){var s=V();s&&(a.uri=s.src.replace(/\?.*/g,""))}p("define",a),a.uri?te.save(a.uri,a):W=a},te.save=function(e,t){var r=te.get(e);r.status<ee.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=ee.SAVED)},te.get=function(e,t){return K[e]||(K[e]=new te(e,t))},te.use=function(t,r,i){var n=te.get(i,o(t)?t:[t]);n.callback=function(){for(var t=[],i=n.resolve(),a=0,s=i.length;s>a;a++)t[a]=K[i[a]].exec();r&&r.apply(e,t),delete n.callback},n.load()},te.preload=function(e){var t=i.preload,r=t.length;r?te.use(t,function(){t.splice(0,r),te.preload(e)},i.cwd+"_preload_"+d()):e()},r.use=function(e,t){return te.preload(function(){te.use(e,t,i.cwd+"_use_"+d())}),r},te.define.cmd={},e.define=te.define,r.Module=te,i.fetchedList=Y,i.cid=d,r.require=function(e){var t=te.get(te.resolve(e));return t.status<ee.EXECUTING&&(t.onload(),t.exec()),t.exports};var re=/^(.+?\/)(\?\?)?(seajs\/)+/;i.base=(U.match(re)||["",U])[1],i.dir=U,i.cwd=q,i.charset="utf-8",i.preload=function(){var e=[],t=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return t+=" "+k.cookie,t.replace(/(seajs-\w+)=1/g,function(t,r){e.push(r)}),e}(),r.config=function(e){for(var t in e){var n=e[t],s=i[t];if(s&&a(s))for(var c in n)s[c]=n[c];else o(s)?n=s.concat(n):"base"===t&&("/"!==n.slice(-1)&&(n+="/"),n=D(n)),i[t]=n}return p("config",e),r}}}(this);var Zepto=function(){function L(t){return null==t?String(t):_[j.call(t)]||"object"}function D(t){return"function"==L(t)}function P(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function k(t){return"object"==L(t)}function M(t){return k(t)&&!P(t)&&Object.getPrototypeOf(t)==Object.prototype}function q(t){return"number"==typeof t.length}function H(t){return a.call(t,function(t){return null!=t})}function Z(t){return t.length>0?n.fn.concat.apply([],t):t}function U(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function R(t){return t in u?u[t]:u[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function I(t,e){return"number"!=typeof e||l[U(t)]?e:e+"px"}function F(t){var e,n;return c[t]||(e=s.createElement(t),s.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),c[t]=n),c[t]}function z(t){return"children"in t?o.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function X(n,r,i){for(e in r)i&&(M(r[e])||A(r[e]))?(M(r[e])&&!M(n[e])&&(n[e]={}),A(r[e])&&!A(n[e])&&(n[e]=[]),X(n[e],r[e],i)):r[e]!==t&&(n[e]=r[e])}function V(t,e){return null==e?n(t):n(t).filter(e)}function B(t,e,n,r){return D(e)?e.call(t,n,r):e}function G(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function J(e,n){var r=e.className,i=r&&r.baseVal!==t;return n===t?i?r.baseVal:r:void(i?r.baseVal=n:e.className=n)}function W(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?n.parseJSON(t):t:e):t}catch(r){return t}}function Y(t,e){e(t);for(var n in t.childNodes)Y(t.childNodes[n],e)}var t,e,n,r,S,N,i=[],o=i.slice,a=i.filter,s=window.document,c={},u={},l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},f=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/^(?:body|html)$/i,m=/([A-Z])/g,v=["val","css","html","text","data","width","height","offset"],g=["after","prepend","before","append"],y=s.createElement("table"),b=s.createElement("tr"),w={tr:s.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:b,th:b,"*":s.createElement("div")},x=/complete|loaded|interactive/,E=/^[\w-]*$/,_={},j=_.toString,T={},C=s.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(t){return t instanceof Array};return T.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=C).appendChild(t),r=~T.qsa(i,e).indexOf(t),o&&C.removeChild(t),r},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},N=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},T.fragment=function(e,r,i){var a,c,u;return h.test(e)&&(a=n(s.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(p,"<$1></$2>")),r===t&&(r=f.test(e)&&RegExp.$1),r in w||(r="*"),u=w[r],u.innerHTML=""+e,a=n.each(o.call(u.childNodes),function(){u.removeChild(this)})),M(i)&&(c=n(a),n.each(i,function(t,e){v.indexOf(t)>-1?c[t](e):c.attr(t,e)})),a},T.Z=function(t,e){return t=t||[],t.__proto__=n.fn,t.selector=e||"",t},T.isZ=function(t){return t instanceof T.Z},T.init=function(e,r){var i;if(!e)return T.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&f.test(e))i=T.fragment(e,RegExp.$1,r),e=null;else{if(r!==t)return n(r).find(e);i=T.qsa(s,e)}else{if(D(e))return n(s).ready(e);if(T.isZ(e))return e;if(A(e))i=H(e);else if(k(e))i=[e],e=null;else if(f.test(e))i=T.fragment(e.trim(),RegExp.$1,r),e=null;else{if(r!==t)return n(r).find(e);i=T.qsa(s,e)}}return T.Z(i,e)},n=function(t,e){return T.init(t,e)},n.extend=function(t){var e,n=o.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){X(t,n,e)}),t},T.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],a=r||i?e.slice(1):e,s=E.test(a);return $(t)&&s&&r?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:o.call(s&&!r?i?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=function(t,e){return t!==e&&t.contains(e)},n.type=L,n.isFunction=D,n.isWindow=P,n.isArray=A,n.isPlainObject=M,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return i.indexOf.call(e,t,n)},n.camelCase=S,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.map=function(t,e){var n,i,o,r=[];if(q(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return Z(r)},n.each=function(t,e){var n,r;if(q(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},n.grep=function(t,e){return a.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){_["[object "+e+"]"]=e.toLowerCase()}),n.fn={forEach:i.forEach,reduce:i.reduce,push:i.push,sort:i.sort,indexOf:i.indexOf,concat:i.concat,map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(o.apply(this,arguments))},ready:function(t){return x.test(s.readyState)&&s.body?t(n):s.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(e){return e===t?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return i.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return D(t)?this.not(this.not(t)):n(a.call(this,function(e){return T.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&T.matches(this[0],t)},not:function(e){var r=[];if(D(e)&&e.call!==t)this.each(function(t){e.call(this,t)||r.push(this)});else{var i="string"==typeof e?this.filter(e):q(e)&&D(e.item)?o.call(e):n(e);this.forEach(function(t){i.indexOf(t)<0&&r.push(t)})}return n(r)},has:function(t){return this.filter(function(){return k(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!k(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!k(t)?t:n(t)},find:function(t){var e,r=this;return e="object"==typeof t?n(t).filter(function(){var t=this;return i.some.call(r,function(e){return n.contains(e,t)})}):1==this.length?n(T.qsa(this[0],t)):this.map(function(){return T.qsa(this,t)})},closest:function(t,e){var r=this[0],i=!1;for("object"==typeof t&&(i=n(t));r&&!(i?i.indexOf(r)>=0:T.matches(r,t));)r=r!==e&&!$(r)&&r.parentNode;return n(r)},parents:function(t){for(var e=[],r=this;r.length>0;)r=n.map(r,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return V(e,t)},parent:function(t){return V(N(this.pluck("parentNode")),t)},children:function(t){return V(this.map(function(){return z(this)}),t)},contents:function(){return this.map(function(){return o.call(this.childNodes)})},siblings:function(t){return V(this.map(function(t,e){return a.call(z(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=F(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=D(t);if(this[0]&&!e)var r=n(t).get(0),i=r.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=D(t);return this.each(function(r){var i=n(this),o=i.contents(),a=e?t.call(this,r):t;o.length?o.wrapAll(a):i.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var r=n(this);(e===t?"none"==r.css("display"):e)?r.show():r.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var r=this.innerHTML;n(this).empty().append(B(this,t,e,r))})},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e===t?"":""+e})},attr:function(n,r){var i;return"string"==typeof n&&r===t?0==this.length||1!==this[0].nodeType?t:"value"==n&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(n))&&n in this[0]?this[0][n]:i:this.each(function(t){if(1===this.nodeType)if(k(n))for(e in n)G(this,e,n[e]);else G(this,n,B(this,r,t,this.getAttribute(n)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&G(this,t)})},prop:function(e,n){return e=O[e]||e,n===t?this[0]&&this[0][e]:this.each(function(t){this[e]=B(this,n,t,this[e])})},data:function(e,n){e="data-"+e.replace(m,"-$1").toLowerCase();var r=this[0];if(r._data_cache||(r._data_cache={}),n===t){var i=r._data_cache[e]||(r._data_cache[e]=W(r.getAttribute(e)));return i}return r._data_cache[e]=n,D(n)||T.isZ(n)?this:this.attr(e,n)},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=B(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var r=n(this),i=B(this,t,e,r.offset()),o=r.offsetParent().offset(),a={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(a.position="relative"),r.css(a)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,r){if(arguments.length<2){var i=this[0],o=getComputedStyle(i,"");if(!i)return;if("string"==typeof t)return i.style[S(t)]||o.getPropertyValue(t);if(A(t)){var a={};return n.each(A(t)?t:[t],function(t,e){a[e]=i.style[S(e)]||o.getPropertyValue(e)}),a}}var s="";if("string"==L(t))r||0===r?s=U(t)+":"+I(t,r):this.each(function(){this.style.removeProperty(U(t))});else for(e in t)t[e]||0===t[e]?s+=U(e)+":"+I(e,t[e])+";":this.each(function(){this.style.removeProperty(U(e))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?i.some.call(this,function(t){return this.test(J(t))},R(t)):!1},addClass:function(t){return t?this.each(function(e){r=[];var i=J(this),o=B(this,t,e,i);o.split(/\s+/g).forEach(function(t){n(this).hasClass(t)||r.push(t)},this),r.length&&J(this,i+(i?" ":"")+r.join(" "))}):this},removeClass:function(e){return this.each(function(n){return e===t?J(this,""):(r=J(this),B(this,e,n,r).split(/\s+/g).forEach(function(t){r=r.replace(R(t)," ")}),void J(this,r.trim()))})},toggleClass:function(e,r){return e?this.each(function(i){var o=n(this),a=B(this,e,i,J(this));a.split(/\s+/g).forEach(function(e){(r===t?!o.hasClass(e):r)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),r=this.offset(),i=d.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r.top-=parseFloat(n(t).css("margin-top"))||0,r.left-=parseFloat(n(t).css("margin-left"))||0,i.top+=parseFloat(n(e[0]).css("border-top-width"))||0,i.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||s.body;t&&!d.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var r=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(i){var o,a=this[0];return i===t?P(a)?a["inner"+r]:$(a)?a.documentElement["scroll"+r]:(o=this.offset())&&o[e]:this.each(function(t){a=n(this),a.css(e,B(this,i,t,a[e]()))})}}),g.forEach(function(t,e){var r=e%2;n.fn[t]=function(){var t,o,i=n.map(arguments,function(e){return t=L(e),"object"==t||"array"==t||null==e?e:T.fragment(e)}),a=this.length>1;return i.length<1?this:this.each(function(t,s){o=r?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null,i.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return n(t).remove();Y(o.insertBefore(t,s),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[r?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}}),T.Z.prototype=n.fn,T.uniq=N,T.deserializeValue=W,n.zepto=T,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function f(t){return t._zid||(t._zid=e++)}function h(t,e,n,r){if(e=p(e),e.ns)var i=d(e.ns);return(a[f(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!i.test(t.ns)||n&&f(t.fn)!==f(n)||r&&t.sel!=r)})}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function m(t,e){return t.del&&!c&&t.e in u||!!e}function v(t){return l[t]||c&&u[t]||t}function g(e,r,i,o,s,c,u){var h=f(e),d=a[h]||(a[h]=[]);r.split(/\s/).forEach(function(r){if("ready"==r)return t(document).ready(i);var a=p(r);a.fn=i,a.sel=s,a.e in l&&(i=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=c;var f=c||i;a.proxy=function(t){if(t=_(t),!t.isImmediatePropagationStopped()){t.data=o;var r=f.apply(e,t._args==n?[t]:[t].concat(t._args));return r===!1&&(t.preventDefault(),t.stopPropagation()),r}},a.i=d.length,d.push(a),"addEventListener"in e&&e.addEventListener(v(a.e),a.proxy,m(a,u))})}function y(t,e,n,r,i){var o=f(t);(e||"").split(/\s/).forEach(function(e){h(t,e,n,r).forEach(function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(v(e.e),e.proxy,m(e,i))})})}function _(e,r){return(r||!e.isDefaultPrevented)&&(r||(r=e),t.each(E,function(t,n){var i=r[t];e[t]=function(){return this[n]=b,i&&i.apply(r,arguments)},e[n]=w}),(r.defaultPrevented!==n?r.defaultPrevented:"returnValue"in r?r.returnValue===!1:r.getPreventDefault&&r.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function j(t){var e,r={originalEvent:t};for(e in t)x.test(e)||t[e]===n||(r[e]=t[e]);return _(r,t)}var n,e=1,r=Array.prototype.slice,i=t.isFunction,o=function(t){return"string"==typeof t},a={},s={},c="onfocusin"in window,u={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:g,remove:y},t.proxy=function(e,n){if(i(e)){var r=function(){return e.apply(n,arguments)};return r._zid=f(e),r}if(o(n))return t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,a,s,c,u){var l,f,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,a,s,e,u)}),h):(o(a)||i(c)||c===!1||(c=s,s=a,a=n),(i(s)||s===!1)&&(c=s,s=n),c===!1&&(c=w),h.each(function(n,i){u&&(l=function(t){return y(i,t.type,c),c.apply(this,arguments)}),a&&(f=function(e){var n,o=t(e.target).closest(a,i).get(0);return o&&o!==i?(n=t.extend(j(e),{currentTarget:o,liveFired:i}),(l||c).apply(o,[n].concat(r.call(arguments,1)))):void 0}),g(i,e,c,s,a,f||l)}))},t.fn.off=function(e,r,a){var s=this;return e&&!o(e)?(t.each(e,function(t,e){s.off(t,r,e)}),s):(o(r)||i(a)||a===!1||(a=r,r=n),a===!1&&(a=w),s.each(function(){y(this,e,a,r)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):_(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var r,i;return this.each(function(a,s){r=j(o(e)?t.Event(e):e),r._args=n,r.target=s,t.each(h(s,e.type||e),function(t,e){return i=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(s[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),_(n)}}(Zepto),function(t){function f(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function h(t,e,r,i){return t.global?f(e||n,r,i):void 0}function p(e){e.global&&0===t.active++&&h(e,null,"ajaxStart")}function d(e){e.global&&!--t.active&&h(e,null,"ajaxStop")}function m(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||h(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void h(e,n,"ajaxSend",[t,e])}function v(t,e,n,r){var i=n.context,o="success";n.success.call(i,t,o,e),r&&r.resolveWith(i,[t,o,e]),h(n,i,"ajaxSuccess",[e,n,t]),y(o,e,n)}function g(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),h(r,o,"ajaxError",[n,r,t||e]),y(e,n,r)}function y(t,e,n){var r=n.context;n.complete.call(r,e,t),h(n,r,"ajaxComplete",[e,n]),d(n)}function b(){}function w(t){return t&&(t=t.split(";",2)[0]),t&&(t==u?"html":t==c?"json":a.test(t)?"script":s.test(t)&&"xml")||"text"}function x(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function E(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=x(e.url,e.data),e.data=void 0)}function _(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function T(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){o=t.type(c),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(c.name,c.value):"array"==o||!r&&"object"==o?T(e,c,r,n):e.add(n,c)})}var r,i,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,c="application/json",u="text/html",l=/^\s*$/;t.active=0,t.ajaxJSONP=function(r,i){if(!("type"in r))return t.ajax(r);var u,h,o=r.jsonpCallback,a=(t.isFunction(o)?o():o)||"jsonp"+ ++e,s=n.createElement("script"),c=window[a],l=function(e){t(s).triggerHandler("error",e||"abort")},f={abort:l};return i&&i.promise(f),t(s).on("load error",function(e,n){clearTimeout(h),t(s).off().remove(),"error"!=e.type&&u?v(u[0],f,r,i):g(null,n||"error",f,r,i),window[a]=c,u&&t.isFunction(c)&&c(u[0]),c=u=void 0}),m(f,r)===!1?(l("abort"),f):(window[a]=function(){u=arguments},s.src=r.url.replace(/\?(.+)=\?/,"?$1="+a),n.head.appendChild(s),r.timeout>0&&(h=setTimeout(function(){l("timeout")},r.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:b,success:b,error:b,complete:b,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:c,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!0,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),o=t.Deferred&&t.Deferred();for(r in t.ajaxSettings)void 0===n[r]&&(n[r]=t.ajaxSettings[r]);p(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),E(n),n.cache===!1&&(n.url=x(n.url,"_="+Date.now()));var a=n.dataType,s=/\?.+=\?/.test(n.url);if("jsonp"==a||s)return s||(n.url=x(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,o);var _,c=n.accepts[a],u={},f=function(t,e){u[t.toLowerCase()]=[t,e]},h=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,d=n.xhr(),y=d.setRequestHeader;if(o&&o.promise(d),n.crossDomain||f("X-Requested-With","XMLHttpRequest"),f("Accept",c||"*/*"),(c=n.mimeType||c)&&(c.indexOf(",")>-1&&(c=c.split(",",2)[0]),d.overrideMimeType&&d.overrideMimeType(c)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&f("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(i in n.headers)f(i,n.headers[i]);if(d.setRequestHeader=f,d.onreadystatechange=function(){if(4==d.readyState){d.onreadystatechange=b,clearTimeout(_);var e,r=!1;if(d.status>=200&&d.status<300||304==d.status||0==d.status&&"file:"==h){a=a||w(n.mimeType||d.getResponseHeader("content-type")),e=d.responseText;try{"script"==a?(1,eval)(e):"xml"==a?e=d.responseXML:"json"==a&&(e=l.test(e)?null:t.parseJSON(e))}catch(i){r=i}r?g(r,"parsererror",d,n,o):v(e,d,n,o)}else g(d.statusText||null,d.status?"error":"abort",d,n,o)}},m(d,n)===!1)return d.abort(),g(null,"abort",d,n,o),d;if(n.xhrFields)for(i in n.xhrFields)d[i]=n.xhrFields[i];var j="async"in n?n.async:!0;d.open(n.type,n.url,j,n.username,n.password);for(i in u)y.apply(d,u[i]);return n.timeout>0&&(_=setTimeout(function(){d.onreadystatechange=b,d.abort(),g(null,"timeout",d,n,o)},n.timeout)),d.send(n.data?n.data:null),d},t.get=function(){return t.ajax(_.apply(null,arguments))},t.post=function(){var e=_.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=_.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var s,i=this,a=e.split(/\s/),c=_(e,n,r),u=c.success;return a.length>1&&(c.url=a[0],s=a[1]),c.success=function(e){i.html(s?t("<div>").html(e.replace(o,"")).find(s):e),u&&u.apply(i,arguments)},t.ajax(c),this};var j=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(j(t)+"="+j(e))},T(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var n,e=[];return t([].slice.call(this.get(0).elements)).each(function(){n=t(this);var r=n.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&e.push({name:n.attr("name"),value:n.val()})}),e},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),define&&define("zepto",[],function(){return Zepto});!function(t,e){function w(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function x(t){return r?r+t:t.toLowerCase()}var r,l,f,h,p,d,m,v,g,y,n="",a={Webkit:"webkit",Moz:"",O:"o"},s=window.document,u=s.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,b={};t.each(a,function(t,i){return u.style[t+"TransitionProperty"]!==e?(n="-"+t.toLowerCase()+"-",r=i,!1):void 0}),l=n+"transform",b[f=n+"transition-property"]=b[h=n+"transition-duration"]=b[d=n+"transition-delay"]=b[p=n+"transition-timing-function"]=b[m=n+"animation-name"]=b[v=n+"animation-duration"]=b[y=n+"animation-delay"]=b[g=n+"animation-timing-function"]="",t.fx={off:r===e&&u.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:x("TransitionEnd"),animationEnd:x("AnimationEnd")},t.fn.animate=function(n,r,i,o,a){return t.isFunction(r)&&(o=r,i=e,r=e),t.isFunction(i)&&(o=i,i=e),t.isPlainObject(r)&&(i=r.easing,o=r.complete,a=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:t.fx.speeds[r]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,r,i,o,a)},t.fn.anim=function(n,r,i,o,a){var s,x,j,u={},E="",_=this,T=t.fx.transitionEnd,S=!1;if(r===e&&(r=t.fx.speeds._default/1e3),a===e&&(a=0),t.fx.off&&(r=0),"string"==typeof n)u[m]=n,u[v]=r+"s",u[y]=a+"s",u[g]=i||"linear",T=t.fx.animationEnd;else{x=[];for(s in n)c.test(s)?E+=s+"("+n[s]+") ":(u[s]=n[s],x.push(w(s)));E&&(u[l]=E,x.push(l)),r>0&&"object"==typeof n&&(u[f]=x.join(", "),u[h]=r+"s",u[d]=a+"s",u[p]=i||"linear")}return j=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(T,j)}else t(this).unbind(T,j);S=!0,t(this).css(b),o&&o.call(this)},r>0&&(this.bind(T,j),setTimeout(function(){S||j.call(_)},1e3*r+25)),this.size()&&this.get(0).clientLeft,this.css(u),0>=r&&setTimeout(function(){_.each(function(){j.call(this)})},0),this},u=null}(Zepto);define("util",function(){var c,t=Array.prototype,e=t.slice,n=t.concat,r=navigator.userAgent,i=r.match(/(iPhone|iPad|iPod).*OS\s([\d_]+)/i),o=r.match(/MSIE (\d+)/i),a=r.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!a,u=0;i?c=i[2].split("_"):a?c=a[2].split("."):o&&(c=o[1].split("."));var l={ios:!!i,ie:!!o,android:s,osVersion:c?parseFloat(c[0]+"."+c[1]):0,guid:function(){return++u},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},extend:function(t){var e=this,n=function(){e.apply(this,arguments)},r=function(){this.constructor=n};r.prototype=e.prototype,n.prototype=new r;for(var i in t)n.prototype[i]=t[i];for(var i in e)n[i]=e[i];return n},random:function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},log:function(t){this.$log||(this.$log=$('<div style="height:40px;position:fixed;top:0;left:0;right:0;z-index:100000;background:#fff;"></div>').appendTo("body")),this.$log.html(t+"|"+this.$log.html())},indexOf:function(t,e){for(var n="function"==typeof e,r=t.length,i=0;r>i;i++)if(n?e(t[i],i):t[i]==e)return i;return-1},lastIndexOf:function(t,e){for(var n="function"==typeof e,r=t.length-1;r>=0;r--)if(n?e(t[r],r):t[r]==e)return r;return-1},first:function(t,e){for(var n,r=0,i=t.length;i>r;r++)if(n=t[r],e(n,r))return n;return null},find:function(t,e){for(var r,n=[],i=0,o=t.length;o>i;i++)r=t[i],e(r,i)&&n.push(r);return n},select:function(t,e){for(var n=[],r=t.length,i=0;r>i;i++)n.push(e(t[i],i));return n},pick:function(t,r){var o,i={};if(null==t)return i;if("function"==typeof r)for(o in t){var a=t[o];r(a,o,t)&&(i[o]=a)}else for(var s=n.apply([],e.call(arguments,1)),u=0,c=s.length;c>u;u++)o=s[u],o in t&&(i[o]=t[o]);return i},pad:function(t,e){var n="0000000000000000"+t;return n.substr(n.length-(e||2))},formatDate:function(t,e){"string"==typeof t&&/^\/Date\(\d+\)\/$/.test(t)?t=new Function("return new "+t.replace(/\//g,""))():"number"==typeof t&&(t=new Date(t));var n=t.getFullYear()+"",r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()+"0000",c=this.pad;return(e||"yyyy-MM-dd HH:mm:ss").replace(/\y{4}/,n).replace(/y{2}/,n.substr(2,2)).replace(/M{2}/,c(r)).replace(/M/,r).replace(/d{2,}/,c(i)).replace(/d/,t).replace(/H{2,}/i,c(o)).replace(/H/i,o).replace(/m{2,}/,c(a)).replace(/m/,a).replace(/s{2,}/,c(s)).replace(/s/,s).replace(/f+/,function(t){return u.substr(0,t.length)})},style:function(t){var e=document,n=e.getElementsByTagName("head")[0],r=e.createElement("style");r.type="text/css";try{r.appendChild(e.createTextNode(t))}catch(i){r.styleSheet.cssText=t}return n.appendChild(r),r},template:function(t,e){var n="var __p=[];var $data=obj||{};with($data){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',r=new Function("obj",n);return e?r(e):r},encodeHTML:function(t){return(""+t).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").split("'").join("&#39;")},getPath:function(t){return t.replace(/^http\:\/\/[^\/]+|\?.*$/g,"").toLowerCase()},cookie:function(t,e,n,r){if("undefined"==typeof e){var i=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=i?unescape(i[2]):null}if(null===typeof e){if(e=this.cookie(name),null==e)return;n=-1}if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),n=";expires="+o.toGMTString()}document.cookie=t+"="+escape(e)+(n||"")+";path="+(r||"/")},store:window.localStorage?function(t,e){return"undefined"==typeof e?JSON.parse(localStorage.getItem(t)):void(null===e?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(e)))}:function(){return"undefined"==typeof value?JSON.parse(this.cookie(key)):void(null===value?this.cookie(key,null):this.cookie(key,JSON.stringify(value)))},noop:function(){},validateEmail:function(t){return/^[-_a-zA-Z0-9\.]+@([-_a-zA-Z0-9]+\.)+[a-zA-Z0-9]{2,3}$/.test(t)},validateMobile:function(t){return/^1[0-9]{10}$/.test(t)}};return l});define("bridge",function(t,e,n){var r=t("$"),i=t("util"),a=(navigator.userAgent,i.ios),s=i.android,l=(Array.prototype.slice,r(window)),f=r('meta[name="api-base-url"]').attr("content");window.hybridFunctions={},window.complete=function(){a&&0!=p.length&&(p.shift(),0!=p.length&&(location.href=p.shift()))},window.trigger=window.app_trigger=function(){r.fn.trigger.apply(l,arguments)};var p=[],h=0,d=function(t,e,n){var i,r={method:t};if(n="function"==typeof e?e:n,e="function"==typeof e?null:e,r.params=e,"function"==typeof n&&(i="hybridCallback"+ ++h,r.callback=i,hybridFunctions[i]=function(){n.apply(null,arguments),delete hybridFunctions[i]}),m.isDevelopment)switch(r.method){case"exitLauncher":hybridFunctions[i]()}else a?alert(JSON.stringify(r)):s&&prompt(JSON.stringify(r))},m={isInApp:!0,isAndroid:s,android:s,ios:a,versionName:"1.0",exec:d,exitLauncher:function(t){d("exitLauncher",function(){t&&t()})},tip:function(t){d("tip",t+"")},pickImage:function(t){d("pickImage",t)},takePhoto:function(t){setTimeout(function(){d("takePhoto",t)},0)},queryThumbnailList:function(t){d("queryThumbnailList",t)},pickColor:function(t){d("pickColor",t)},pay:function(t,e){d("pay",t,e)},share:function(){d("share")},isDevelopment:"Win32"==navigator.platform||"Win64"==navigator.platform,url:function(t){return/^http\:\/\//.test(t)?t:f+t},post:function(t,e,n,r){r="function"==typeof n?n:r,n="function"==typeof n?null:n,d("post",{url:this.url(t),files:n,data:e},r)},exit:function(){d("exit")},update:function(t,e,n){d("updateApp",{downloadUrl:t,versionName:e},n)}};m.hasStatusBar=m.isInApp&&i.ios&&i.osVersion>=7;var v=!1;return l.on("back",function(){var t=location.hash;""==t||"#"===t||"/"===t||"#/"===t?v?m.exit():(v=!0,setTimeout(function(){v=!1},2e3),m.tip("再按一次退出程序")):history.back()}),m});define("graphics/matrix2d",function(){function t(t,e,n,i,r,o){this.setValues(t,e,n,i,r,o)}var e=t.prototype;return t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,n,i,r,o){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=r||0,this.ty=o||0,this},e.append=function(t,e,n,i,r,o){var s=this.a,a=this.b,c=this.c,u=this.d;return(1!=t||0!=e||0!=n||1!=i)&&(this.a=s*t+c*e,this.b=a*t+u*e,this.c=s*n+c*i,this.d=a*n+u*i),this.tx=s*r+c*o+this.tx,this.ty=a*r+u*o+this.ty,this},e.prepend=function(t,e,n,i,r,o){var s=this.a,a=this.c,c=this.tx;return this.a=t*s+n*this.b,this.b=e*s+i*this.b,this.c=t*a+n*this.d,this.d=e*a+i*this.d,this.tx=t*c+n*this.ty+r,this.ty=e*c+i*this.ty+o,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,n,i,r,o,s,a,c,u){if(o%360)var l=o*t.DEG_TO_RAD,f=Math.cos(l),h=Math.sin(l);else f=1,h=0;return s||a?(s*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),e,n),this.append(f*i,h*i,-h*r,f*r,0,0)):this.append(f*i,h*i,-h*r,f*r,e,n),(c||u)&&(this.tx-=c*this.a+u*this.c,this.ty-=c*this.b+u*this.d),this},e.prependTransform=function(e,n,i,r,o,s,a,c,u){if(o%360)var l=o*t.DEG_TO_RAD,f=Math.cos(l),h=Math.sin(l);else f=1,h=0;return(c||u)&&(this.tx-=c,this.ty-=u),s||a?(s*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.prepend(f*i,h*i,-h*r,f*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),e,n)):this.prepend(f*i,h*i,-h*r,f*r,e,n),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),i=Math.sin(e),r=this.a,o=this.b;return this.a=r*n+this.c*i,this.b=o*n+this.d*i,this.c=-r*i+this.c*n,this.d=-o*i+this.d*n,this},e.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(t*this.ty-e*r)/o,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,n){return n=n||{},n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a),r=Math.abs(1-n/i);return 1e-5>r?(e.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=i/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty+")"},t});define("graphics/tween",function(t,e,n){n.exports={linear:function(t,e,n,i){return n*t/i+e},ease:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeIn:function(t,e,n,i){return n*(t/=i)*t+e},easeOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e},easeInOutExpo:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i,r,o){if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o))+e},easeOutElastic:function(t,e,n,i,r,o){if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*i-a)*Math.PI/o)+n+e},easeInOutElastic:function(t,e,n,i,r,o){if(0==t)return e;if(2==(t/=i/2))return e+n;if(o||(o=.3*i*1.5),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)+e:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)*.5+n+e},easeInBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),(t/=i/2)<1?n/2*t*t*(((r*=1.525)+1)*t-r)+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},easeInBounce:function(t,e,n,i){return n-Tween.Bounce.easeOut(i-t,0,n,i)+e},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){return i/2>t?.5*Tween.easeInOutBounce(2*t,0,n,i)+e:.5*Tween.easeInOutBounce(2*t-i,0,n,i)+.5*n+e}}});define("core/base",function(t,e,n){Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e}),Date.now||(Date.now=function(){return+new Date});var i=function(){var t=this,e=Array.prototype.slice.call(arguments),n=e.shift();if(n)for(var i in n)t.options[i]=n[i];t.initialize.apply(t,e),t.options.initialize&&t.options.initialize.apply(t,e)};i.prototype={options:{},initialize:function(){}},i.extend=function(t,e){var r,n=this;"function"!=typeof t&&(e=t,t=function(){n.apply(this,arguments)});var o=function(){this.constructor=t};if(o.prototype=n.prototype,t.prototype=new o,r=e.options,"undefined"!=typeof r){for(var a in r)t.prototype.options[a]=r[a];delete e.options}for(var a in e)t.prototype[a]=e[a];return t.__super__=n.prototype,t.extend=i.extend,t},window.sl=window.slan={},n.exports=i});define("core/promise",["./linklist"],function(t,e,n){var i=t("./linklist"),r=Array.prototype.slice,o=/^\$(\d+)$/,s=function(t,e,n){for(var a,i=[],r=0,s=t.length;s>r;r++)a=t[r],i.push("string"==typeof a?o.test(a)?e[parseInt(a.match(o)[1])]:a.replace(/^\$\$/,"$"):a);return i.push(n),i},a=function(t,e,n){if(!(this instanceof a))return new a(t,e,n);var r=this;this.queue=new i,this.state=2,this.resolveSelf=function(){r.resolve.apply(r,arguments)},t&&(this.state=0,this.then(t,e,n))};a.prototype={reject:function(t){this.resolve(t||"unknow error",null)},resolve:function(){var i,o,s,t=this,e=r.call(arguments),n=t.queue.shift();if(n)if(t.state=1,i=n[0],o=n[1],i instanceof a)i.then(t.resolveSelf);else if("function"==typeof i)s=i.apply(o,e),s instanceof a?s!==t&&s.then(t.resolveSelf):t.resolve(null,s);else if(i instanceof Array)for(var u=[],c=[],l=0,f=0,h=i.length;h>f;f++)!function(n,i,r){"function"==typeof n&&(n=n.apply(o,e)),n instanceof a?n.then(function(e,n){e&&(u[i]=e),l++,c[i]=n,l>=r&&t.resolve(u,c)}):(l++,c[i]=n,l>=r&&t.resolve(null,c))}(i[f],f,h);else t.resolve(null,e);else t.state=0;return t},when:function(t,e){return t instanceof Array||(t=[t]),this.queue.append([t,e||this]),1!=this.state&&this.resolve(),this},map:function(t,e,n){var i=this,r=function(){var n=arguments;return i._count=t.length,i.result=[],i.errors=[],t.forEach(function(t,r){t instanceof Array||(t=[t]),e.apply(this,s(t,n,function(t,e){i.next(r,t,e)}))}),i};return i.queue.append([r,n||this]),i},each:function(t,e,n){var i=this,r=function(){return i._count=t.length,i.result=[],i.errors=[],t.forEach(function(t,n){e.apply(this,[n,t])}),i};return i.queue.append([r,n||this]),i},next:function(t,e,n){this._count--,e&&(this.errors[t]=e),this.result[t]=n,this._count<=0&&this.resolve(this.errors.length?this.errors:null,this.result)},bind:function(t){var e=this;return function(){e.then(r.call(arguments),t,this)}},then:function(t,e,n){var r,i=this;return t instanceof Array?(r=e,e=function(){return r.apply(this,s(t,arguments,i.resolveSelf)),i}):(n=e,e=t,t=null),i.queue.append([e,n||this]),i.state||i.resolve(),i}},a.resolve=function(){return(new a).resolve()},n.exports=a});define("core/linklist",function(t,e,n){var i=function(){this._idlePrev=this,this._idleNext=this},r=function(t){return t._idlePrev==t?null:t._idlePrev},o=function(t){t._idleNext&&(t._idleNext._idlePrev=t._idlePrev),t._idlePrev&&(t._idlePrev._idleNext=t._idleNext),t._idleNext=null,t._idlePrev=null};i.prototype={length:0,init:function(t){t={data:t},this.list=t,this.length=1,t._idleNext=t,t._idlePrev=t},get:function(t){var e=null;return this.each(function(n){return t(n)===!0?(e=n,!1):void 0}),e},find:function(t){var e=[];return this.each(function(n){t(n)===!0&&e.push(n)}),e},first:function(){return this._idlePrev!=this?this._idlePrev.data:null},peek:function(){return this._idlePrev==this?null:this._idlePrev},each:function(t){for(var n,e=this._idlePrev;e!=this&&(n=e._idlePrev,t.call(e,e.data)!==!1);)e=n},next:r,append:function(t,e){return e||(t={data:t}),t._idleNext=this._idleNext,this._idleNext._idlePrev=t,t._idlePrev=this,this._idleNext=t,this.length++,t},contains:function(t){var e=!1;return this.each(function(n){return t===n?(e=!0,!1):void 0}),e},shift:function(){var t=this._idlePrev;return t!=this?(this._remove(t),t.data):null},_remove:function(t){0!=this.length&&(this.length--,o(t))},remove:function(t){var e=this;e.each(function(n){return n===t?(e._remove(this),!1):void 0})},isEmpty:function(){return this._idlePrev==this}},n.exports=i});define("core/event",function(t,e,n){function c(t,e,n){(t||"").split(s).forEach(function(t){n(t,e)})}function l(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function f(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(t,e,n,i){var r,o;return o=f(e),o.ns&&(r=l(o.ns)),t.filter(function(t){return!(!t||o.e&&t.e!==o.e||o.ns&&!r.test(t.ns)||n&&t.cb!==n&&t.cb._cb!==n||i&&t.ctx!==i)})}function p(t,e){return this instanceof p?(e&&i.extend(this,e),this.type=t,this):new p(t,e)}var i=t("$"),r=t("./base"),o=[].slice,s=/\s+/,a=function(){return!1},u=function(){return!0};return p.prototype={isDefaultPrevented:a,isPropagationStopped:a,preventDefault:function(){this.isDefaultPrevented=u},stopPropagation:function(){this.isPropagationStopped=u}},r.event={createEvent:p,on:function(t,e,n){var r,i=this;return e?(r=this._events||(this._events=[]),c(t,e,function(t,e){var o=f(t);o.cb=e,o.ctx=n,o.ctx2=n||i,o.id=r.length,r.push(o)}),this):this},one:function(t,e,n){var i=this;return e?(c(t,e,function(t,e){var r=function(){return i.off(t,r),e.apply(n||i,arguments)};r._cb=e,i.on(t,r,n)}),this):this},off:function(t,e,n){var i=this._events;return i?t||e||n?(c(t,e,function(t,e){h(i,t,e,n).forEach(function(t){delete i[t.id]})}),this):(this._events=[],this):this},trigger:function(t){var n,i,r,s,a,e=-1;if(!this._events||!t)return this;if("string"==typeof t&&(t=new p(t)),n=o.call(arguments,1),t.args=n,n.unshift(t),i=h(this._events,t.type))for(s=i.length;++e<s;)if((r=t.isPropagationStopped())||!1===(a=i[e]).cb.apply(a.ctx2,n)){r||(t.stopPropagation(),t.preventDefault());break}return this}},r.Event=p,r.event});define("core/view",function(t,e,n){var i=t("$"),r=t("util"),o=t("./base"),s=t("./event"),a=Array.prototype.slice,u=function(){var e,t=this,n=a.call(arguments),o=n.shift();t._bindListenTo=[],i.isPlainObject(o)?(e=o,o=null):e=n.shift(),t.options=i.extend({},t.options,e),t.options.className&&(t.className=t.options.className),t.options.el&&(t.el=t.options.el),t.cid=r.guid(),t.setElement(o||t.el),t.initialize.apply(t,n),t.options.initialize&&t.options.initialize.apply(t,n),t.on("Destroy",t.onDestroy)};u.prototype={options:{},initialize:r.noop,setElement:function(t,e){return t&&(this.$el&&this.undelegateEvents(),this.$el=i(t),this.el=this.$el[0],this.className&&this.$el.addClass(this.className),e!==!1&&this.delegateEvents()),this},on:s.on,one:s.one,off:s.off,trigger:s.trigger,undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},delegateEvents:function(){return this.listen(this.events),this.listen(this.options.events),this},listen:function(t,e){var n=this;if(e){var o=t.split(" "),s=o.shift().replace(/,/g,".delegateEvents"+n.cid+" ");e=i.proxy(i.isFunction(e)?e:n[e],n),o.length>0&&""!==o[0]?n.$el.on(s,o.join(" "),e):n.$el.on(s,e)}else for(var r in t)n.listen(r,t[r]);return n},listenTo:function(t){var e=a.apply(arguments),n=e[e.length-1];return"function"!=typeof t.on&&(t=i(t)),e[0]=t,e[e.length-1]=i.proxy(n,this),this._bindListenTo.push(a.apply(e)),e.shift().on.apply(t,e),this},$:function(t){return this.$el.find(t)},onDestroy:r.noop,destroy:function(){var n,e=(this.$el,this);i.each(this._bindListenTo,function(t,e){n=e.shift(),n.off.apply(n,e)}),e.undelegateEvents(),e.$el.remove(),e.trigger("Destroy")}},u.extend=function(){var r,t=this,e=a.call(arguments),n=e[0];return"function"!=typeof n?(n=null,e.unshift({})):e[0]={},r=i.extend.apply(i,e),n=o.extend.apply(t,n?[n,r]:[r]),n.prototype.events=i.extend({},n.__super__.events,n.prototype.events),n.extend=arguments.callee,n},n.exports=u});define("core/model",function(t,e,n){var i=t("$"),r=t("util"),o=(t("./base"),t("./event")),a=Array.prototype.slice,u={date:r.formatDate,json:function(t){return t instanceof _||t instanceof E?JSON.stringify(t.data):JSON.stringify(t)},join:function(t,e){return console.log(t),t instanceof E?t.data.join(e):t.join(e)},or:function(t,e){return t||e},lowercase:function(t){return t.toLowerCase()},uppercase:function(t){return t.toUpperCase()},concat:function(){return a.call(arguments).join("")},round:function(t){return Math.round(t)},format:function(t){var e=a.call(arguments),n=e[1];return e.splice(1,1),n.replace(/\{(\d+)\}/g,function(t,n){return e[n]})},"case":function(t){for(var e=a.call(arguments,1),n=0,i=e.length;i>n;n+=2)if(t==e[n])return e[n+1];return i%2==0?void 0:e[i-1]},_addListener:function(t,e,n,i,r,s,o){var c,a=!1;if(i&&"number"==typeof i&&(c="_bind_filter"+r.prop+i+"_"+o,e[c]?(c="_bind_filter"+r.prop+"_"+o,i[c]||(i[c]=a=!0)):e[c]=a=!0,a)){s=s.split(".");var l=s.pop();(s.length<=0?t:t.get(s)).on("change"+(l?":"+l:""),function(){e._setProp(i,r.prop,r.filter(u,e,e.data[n]))})}}},c=/\s*\|\s*([a-zA-Z_0-9]+)((?:\s*(?:\:|;)\s*([a-zA-Z_0-9\.-]+|\'[^\']*?\'))*)/g,l=/\s*\:\s*([a-zA-Z_0-9\.-]+|\'[^\']*?\')/g,f=function(t){return"if(el)Filter._addListener("+t+",model,key,el,self,"},h=function(t,e){var o,a,u,i="",r="var self=this;",s=0;return t.replace(c,function(t,n,c){i+="value=Filter."+n+"(value",c.replace(l,function(t,n){"'"==n[0]||/^((-)*\d+|true|false|undefined|null)$/.test(n)?i+=","+n:(o=n.split("."),a=o.shift(),!e||a!=e.alias&&!(u=e.modelAlias[a])?(i+=",model.root.data."+n,r+=f("model.root")+'"'+n+'",'+s++ +");"):n==e.alias?(i+=",model.data",r+=f("model.parent")+"model._key,"+s++ +");"):a==e.alias?(i+=",model.data"+n.substr(e.alias.length),r+=f("model")+'"'+n.substr(e.alias.length+1)+'",'+s++ +");"):(n=o.join("."),i+=',(function(){parent=model.parent.parent;while(parent){if( parent.key=="'+u+'^child"){'+f("parent")+'"'+n+'",'+s++ +"); return parent.data."+n+"; } parent=parent.parent.parent; } })()"))}),i+=");"}),i+="return value;",new Function("Filter","model","value","key","el",r+i)},p=/([a-zA-Z_0-9]+)\s+in\s+([a-zA-Z_0-9]+(?:\.[a-zA-Z_0-9]+){0,})(?:\s*\|\s*filter\s*\:\s*([a-zA-Z_0-9\.]+)(?:\s*\:\s*([a-zA-Z_0-9\.]+)){0,1}){0,1}(?:\s*\|\s*orderBy\s*\:\s*([a-zA-Z_0-9\.]+)(?:\s*\:\s*([a-zA-Z_0-9\.]+)){0,1}){0,1}/g,d=/\b([a-zA-Z_0-9-\.]+)\s*\:\s*([a-zA-Z_0-9]+)((?:\.[a-zA-Z_0-9]+)*)((?:\s*\|\s*[a-zA-Z_0-9]+(?:\s*\:\s*(?:[a-zA-Z_0-9\.-]+|'[^']*'))*)*)(\s|,|$)/g,v=/\b([a-zA-Z\s]+)\s*\:\s*([a-zA-Z_0-9]+)((?:\.[a-zA-Z_0-9]+)*)(\s|,|$)/g,m=function(t,e){return t.filter(e).add(t.find(e))},g=function(t,e){var n=e.split("."),i=n.shift();if(i==t.alias)return{collection:t.collectionName,variable:n.join(".")};var r=t.modelAlias[i];return r?{collection:r,variable:n.join(".")}:void 0},y=function(t){this.count=0,this.repeats={},this.bindings={},this.events=[],this.eventNames=[],this.eventid=0,this.scan(t)};y.prototype.scan=function(t){var a,u,n=this.repeats,r=this.bindings,s=this.events,o=this.eventNames,c=this.count,l=this.eventid;m(t,"[sn-repeat]").each(function(){u=i(this);var t=this,e=this.getAttribute("sn-repeat"),r=u.parents("[sn-repeat-alias]"),s={};r.each(function(){s[this.getAttribute("sn-repeat-alias")]=this.getAttribute("sn-repeat-name")}),e.replace(p,function(e,i,r,o,u,c,l){var p,d,f=r.split("."),h=f.length;1!==h&&(p=f[0],d=s[p],d&&(f[0]=d+"^child",r=f.join("."))),t.setAttribute("sn-repeat-alias",i),t.setAttribute("sn-repeat-name",r);var v=document.createElement("script");v.setAttribute("type","text/placeholder");var m,g={orderBy:c,reverse:l,filterName:o,comparator:u,collectionName:r,alias:i,modelAlias:s,template:t};1==h&&(g.placeHolder=v),a=n[r],a?m=r+"_"+a.push(g):(n[r]=[g],m=r+"_1"),g.placeHolderName=m,v.setAttribute("sn-placeholder",m),t.parentNode.insertBefore(v,t)})}).remove();for(var y in n)for(var _,b=n[y],w=0,x=b.length;x>w;w++)_=b[w],u=i(_.template),m(u,"[sn-binding],[sn-model],[sn-on]").each(function(){var t=this,e=this.getAttribute("sn-binding"),n=this.getAttribute("sn-model"),i=this.getAttribute("sn-on");if(t.setAttribute("sn-id",++c),n&&(n=g(_,n),n&&(this.setAttribute("sn-collection",n.collection),this.setAttribute("sn-model",n.variable))),i){this.setAttribute("sn-on",l);var f=s[l];i.replace(v,function(t,e,n,i){-1==o.indexOf(e)&&(o[o.length]=e),f||(f=s[l]={});var r=n+i;f[e]=g(_,r)||r}),l++}e&&e.replace(d,function(t,e,n,i,s){n==_.alias?n=y+"^child"+i:(alias=_.modelAlias[n],alias&&(n=alias+"^child"+i)),s&&(e={prop:e,filter:h(s,_)});var o=r[n];o||(o=r[n]=[]),o.push({el:c,prop:e})})});m(t,"[sn-binding],[sn-on]").each(function(){var i,t=this.getAttribute("sn-binding"),e=this.getAttribute("sn-on"),n=this;if(t&&t.replace(d,function(t,e,s,o,a){s+=o,a&&(e={prop:e,filter:h(a)}),i=r[s],i||(i=r[s]=[]),i.push({el:n,prop:e})}),e){this.setAttribute("sn-on",l);var a=s[l];e.replace(v,function(t,e,n,i){-1==o.indexOf(e)&&(o[o.length]=e),a||(a=s[l]={}),a[e]=n+i}),l++}})};var b=function(t,e,n){var s;if(0==e.indexOf("style."))(s={})[e.substr(6)]=n,i(t).css(s);else switch(e){case"text":t.innerHTML=r.encodeHTML(n);break;case"html":t.innerHTML=n;break;case"display":t.style.display=n?"block"==n||"inline"==n||"inline-block"==n?n:"":"none";break;case"value":t.value=n;break;case"style":i(t).css(n);break;case"class":t.className="string"!=typeof n&&n?u.join(n," "):n;break;default:null===n||void 0===n?t.removeAttribute(e):t.setAttribute(e,n)}},_=function(t,e,n,i){if(t&&!this.created){var r={};if(this.$el=i,this.model=r,this._key=e,this.root=this,this.data={},n instanceof _)this.parent=n,this.key=n.key?n.key+"."+e:e,this.root=n.root;else{if(!(n instanceof E))throw new Error("Model's parent mast be Collection or Model");this.parent=n,this.key=n.key+"^child",this.root=n.root}this.set(t),n.data[e]=this.data,this.created=!0}};_.prototype={constructor:_,one:o.one,on:o.on,off:o.off,trigger:o.trigger,_redraw:function(){var t;for(var e in this.model)t=this.model[e],t instanceof _||t instanceof E?t._redraw():this._syncView(e,t)},_syncView:function(t,e){var i,r,s,t,o,n=this.root.finder.bindings[t&&this.key?this.key+"."+t:this.key||t];if(n)for(var a=0,c=n.length;c>a;a++)i=n[a],r=i.el,s=i.prop,"string"!=typeof s?(o=s.filter(u,this,e,t,r),s=s.prop):o=e,this._setProp(r,s,o);return this},_syncOwnView:function(){return this.root!=this&&(this._syncView("",this.data),this.created&&this.parent instanceof _&&this.parent.trigger("change:"+this._key,this.data),this.parent.needUpdateView&&this.parent._syncOwnView()),this},_setProp:function(t,e,n){"number"==typeof t?m(this.$el,'[sn-id="'+t+'"]').each(function(){b(this,e,n)}):b(t,e,n)},get:function(t){if("string"==typeof t&&-1!=t.indexOf(".")&&(t=t.split(".")),i.isArray(t)){for(var e=this,n=0,r=t.length;r>n;n++)if(e instanceof _)e=e.model[t[n]];else{if(!(e instanceof E))return null;e=e.models[t[n]]}return e}return this.model[t]},set:function(t,e){var r,s,o,n=this,a=this.model;if(n.needUpdateView=!1,i.isPlainObject(t))o=t;else{if("undefined"==typeof e)return e=t,t="",this.parent&&(this.parent.data[this.parent.models.indexOf(this)]=e),this.data=e,void this._syncOwnView();(o={})[t]=e}var c,l,u=[],s=!1;for(var f in o)if(r=a[f],l=o[f],r!==l){var h=f.split(".");if(h.length>1){t=h.pop(),a=this;for(var v,p=0,d=h.length;d>p;p++)if(f=h[p],v=a,a instanceof _)a=a.model[f],a||(a=v.model[f]=new _({},f,v,v.$el),v.data[f]=a.data);else if(a instanceof E&&(a=a.models[f],!a))throw new Error("[Collection index is bigger than length!]");a.set(t,l)}else if(r instanceof _)r.set(l);else if(r instanceof E){if(!i.isArray(l))throw new Error("[Array to "+typeof l+" error]不可改变"+f+"的数据类型");r.set(l)}else this.data[f]=l,i.isPlainObject(l)?a[f]=new _(l,f,this,this.$el):i.isArray(l)?(a[f]=new E,u.push(f)):(a[f]=l,this._syncView(f,l),this.created&&this.trigger("change:"+f,l));s||(s=!0)}for(var p=0,d=u.length;d>p;p++)t=u[p],c=a[t],a[t].constructor(this.data[t],t,this);return s&&this.root!=this&&this._syncOwnView(),n.needUpdateView=!0,this},toJSON:function(){return i.extend(!0,{},this.data)}};var w=function(t,e){"string"==typeof e&&(e=e.split("."));for(var n=0,i=e.length;i>n;n++)t=t[e[n]];return t},x=function(t,e){this.list=[],this.collection=e,i.extend(this,t),!this.placeHolder&&e.parent.$el&&(this.placeHolder=e.parent.$el.find('[sn-placeholder="'+this.placeHolderName+'"]')[0])};x.prototype={filter:function(t){var e=this.filterName,n=this.comparator,i=!0;if(e){if(e=this.getValue(e),!e)return!0;switch("true"==n&&(n=!0),typeof e){case"function":i=e(t);break;case"object":var r;for(var s in t)r=t[s];break;case"string":break;default:i=t}}return i},sort:function(t,e){e!=this.reverse},getValue:function(t){var e=t.split("."),n=this.modelAlias[e[0]];return n?void 0:w(this.collection.root.data,t)},get:function(t){for(var e=this.list.length-1;e>=0;e--)if(this.list[e].model==t)return this.list[e]},add:function(t,e,n){var o=(this.list,this.orderBy,this.reverse,{model:t,el:e});this.list.push(o),this.filter(t.data)&&(this.fragment?this.fragment.appendChild(e):this.placeHolder.parentNode.insertBefore(e,this.placeHolder))},remove:function(t){for(var e=this.list.length-1;e>=0;e--)if(this.list[e].model==t){this.list.splice(e,1);break}}};var E=function(t,e,n){if(t){this.models=[],this.data=[],this.key=e,this._key=e,this.repeats=[],this.parent=n,n.key&&(this.key=n.key+"."+this.key),this.root=n.root;var s,i=this.root.finder.repeats[this.key];if(i)for(var o=0,a=i.length;a>o;o++)s=new x(i[o],this),this.repeats.push(s);this.set(t)}};E.prototype={constructor:E,model:_,forEach:function(t){for(var e,i=0,r=this.models.length;r>i;i++)e=this.models[i],t.call(this,e,i)},_redraw:function(){for(var t=0,e=this.models.length;e>t;t++){if(model=this.models[t],this.repeats)for(var n,t=0,e=this.repeats.length;e>t;t++)if(n=this.repeats[t],!n.get(model)){var r=item.template.cloneNode(!0);i(r);r.snModel=model,n.add(model,r),model.$el.push(r)}model._redraw()}},append:function(t){this.fragment(function(){for(var e=0,n=t.length;n>e;e++)this.add(t[e],!0)})},add:function(t,e){this.needUpdateView=!1;var n,r=new this.model,s=this.data.length;if(this.models[s]=r,this.data[s]=t,this.repeats)for(var o,a=0,u=this.repeats.length;u>a;a++){o=this.repeats[a];var c=o.template.cloneNode(!0),l=i(c);c.snModel=r,o.add(r,c),n=n?n.add(l):l}return r.constructor(t,s,this,n),e||this._syncOwnView(),this.needUpdateView=!0,r},_syncOwnView:function(){return this.parent._syncView(this._key,this.data),this.created&&this.parent.trigger("change:"+this._key,this.data),this.parent.needUpdateView&&this.parent._syncOwnView(),this},fragment:function(t){for(var e=0,n=this.repeats.length;n>e;e++)this.repeats[e].fragment=document.createDocumentFragment();t.call(this);for(var i,e=0,n=this.repeats.length;n>e;e++)i=this.repeats[e],i.placeHolder.parentNode.insertBefore(i.fragment,i.placeHolder),i.fragment=null},set:function(t){this.needUpdateView=!1,this.fragment(function(){var e,n=t.length,i=this.models.length;if(i>n)for(var r=i-1;r>=n;r--)this.remove(r,!0);for(var r=0;n>r;r++)e=t[r],i>r?this.models[r].set(e):this.add(e,!0)}),this.needUpdateView=!0},get:function(t){return this.models[t]},remove:function(t,e){var n,i;if("number"!=typeof t&&(t=this.models.indexOf(t)),this.repeats){for(var r=0,s=this.repeats.length;s>r;r++)n=this.repeats[r],i=n.list[t].el,i.parentNode.removeChild(i),n.list.splice(t,1);this.models.splice(t,1),this.data.splice(t,1),e||this._syncOwnView()}}};var A=function(t,e){t&&(this.created||(this.data={},this.events=[],this.root=this,this.model={},this.key="",this.load(t),this.set(e),this.created=!0))};A.prototype=Object.create(_.prototype),i.extend(A.prototype,{constructor:A,load:function(t){return this.finder=new y(t),this.$el=t.on("input change","[sn-model]",i.proxy(this._inputChange,this)),this.bindEvents(),this},handleEvent:function(t){var o,e=t.currentTarget,n=t.type,r=e.getAttribute("sn-on"),s=this.finder.events[r];if(s){o=s[n];var a,u,c;"string"==typeof o?(c=o,o=this.get(o),a=this):(a=i(e).closest('[sn-repeat-name="'+o.collection+'"]')[0].snModel,c=o.variable,o=a.get(c)),u=c.lastIndexOf("."),o&&o.call((-1==u?a:a.get(c.substr(0,u))).data,t)}},bindEvents:function(){for(var e=0,n=this.finder.eventNames.length;n>e;e++){var r=this.finder.eventNames[e];-1==this.events.indexOf(r)&&(this.$el.on(r,"[sn-on]",i.proxy(this.handleEvent,this)),this.events[this.events.length]=r)}},scan:function(t){this.finder.scan(t),this._redraw(),this.bindEvents()},append:function(t,e){e?t=this.$el.find(t):(e=t,t=this.$el),t.append(e),this.scan(e)},prepend:function(t,e){e?t=this.$el.find(t):(e=t,t=this.$el),t.prepend(e),this.scan(e)},before:function(t,e){this.$el.find(t).before(e),this.scan(e)},after:function(t,e){this.$el.find(t).after(e),this.scan(e)},_inputChange:function(t){var e=t.currentTarget,n=e.getAttribute("sn-model"),r=e.getAttribute("sn-collection");r?i(e).closest('[sn-repeat-name="'+r+'"]')[0].snModel.set(n,e.value):this.set(n,e.value)},destory:function(){this.$el.off("input change","[sn-model]",this._inputChange)}}),A.extend=_.extend=E.extend=r.extend,e.ViewModel=A,e.filter=e.Filter=u});define("core/page",function(t,e,n){t("../widget/tip");var i=t("$"),r=t("util"),o=(t("./base"),t("./view")),a=t("./promise"),c=(t("../widget/dialog"),r.noop),h=(r.indexOf,Array.prototype.slice),f=r.getPath,p=o.extend({options:{route:null},application:null,el:'<div class="view"></div>',_setRoute:function(t){this.route=t,this.hash=t.hash,this.url=t.url,this.path=t.path,this._queries=this.queries,this.queries=i.extend({},t.queries)},queryString:function(t,e){if("undefined"==typeof e)return this.route.queries[t];null===e||e===!1||""===e?delete this.route.queries[t]:this.route.queries[t]=e||"";var n=i.param(this.route.queries);this.application.to(this.route.path+(n?"?"+n:""))},loadTemplate:function(){var t=this,e=1,n=function(){e--,0==e&&(t.$el.html(t.razor.html(t.data)).appendTo(t.application.$el),t.trigger("Create"),t._promise.resolve())};return t.route.api&&(e++,i.ajax({url:t.route.api,type:"GET",dataType:"json",success:function(e){t.data=e,n(e)},error:function(t){n({success:!1,content:t.responseText})}})),seajs.use(t.route.template,function(e){t.razor=e,n()}),t._promise},initialize:function(){var t=this,e=a.resolve();t._promise=e,t.className=t.el.className,t._setRoute(t.options.route),t.application=t.options.application,t.on("Start",t.onStart),t.on("Resume",t.onResume),t.on("Show",t.onShow),t.on("Pause",t.onPause),t.on("QueryChange",t.onQueryChange),t.on("QueryChange",t.checkQuery),t.$el.data("path")||(t.$el.data("url",t.url).data("path",t.path),e.then(t.loadTemplate,t)),e.then(t.onCreate,t).then(function(){t.trigger("Start"),t.checkQuery()})},onCreate:c,onStart:c,onResume:c,onShow:c,onStop:c,onRestart:c,onPause:c,onQueryChange:c,then:function(t){return this._promise.then(t,this),this},_queryActions:{},checkQuery:function(){var s,t=this,e=t.queries,n=t._queries,r=t._queryActions;r&&i.each(r,function(t,i){if(s=e[t]||"",s&&!n||n&&s!=n[t]){var r=i.cls[i.map[s]].__query_action;r.apply(i.cls,r.__arguments),r.__arguments=void 0}})},bindQueryAction:function(t,e,n){var o,s=this;return i.each(n,function(n,i){o=function(){var i=h.apply(arguments),r=arguments.callee.__query_action;s.queryString(t)==n?r.apply(e,i):(r.__arguments=i,s.queryString(t,n))},o.__query_action=e[i],e[i]=o}),this._queryActions[t]={cls:e,map:n},this},onResult:function(t,e){this.listenTo(this.application,t,e)},setResult:function(){this.application.trigger.apply(this.application,arguments)},compareUrl:function(t){return f(t)===this.route.path.toLowerCase()},back:function(t){this.application.to(t)},forward:function(t){this.application.to(t)}});sl.Page=p,n.exports=p});define("core/navigation",function(t,e,n){var i=t("$"),r=t("util"),o=(t("./base"),t("./view")),a=t("./route"),u=t("./master"),c=t("./promise"),p=(r.noop,Array.prototype.slice,r.getPath,a.standardizeHash),d=u.checkQueryString,v=o.extend(u,{events:{"click a[href]:not(.js-link-default)":function(t){var n=i(t.currentTarget);if(!/http\:|javascript\:|mailto\:/.test(n.attr("href"))&&"_blank"!=n.attr("target")){t.preventDefault();var r=n.attr("href");return/^#/.test(r)||(r="#"+r),location.hash=r,!1}n.addClass("js-link-default")}},el:'<div class="screen" style="position:fixed;top:0px;bottom:0px;right:0px;width:100%;background:rgba(0,0,0,0);z-index:2000;display:none"></div><div class="viewport"></div>',initialize:function(){var t=this;t.$mask=i(t.$el[0]).on("click",!1),t.el=t.$el[1],t.promise=c.resolve()},start:function(){var e,t=this,n=i(window),r=i(document.body),s=r.find(".view");t.$el.appendTo(r),t.$el=i(t.el),s.length&&t.$el.append(s.hide()),location.hash||(location.hash="/"),t.hash=e=p(location.hash),t.promise.then(function(){return t.get(e,function(e){e.$el.show().appendTo(t.el),t._currentActivity=e,e.then(function(){e.trigger("Resume").trigger("Show"),t.trigger("start"),t.promise.resolve()})}),n.on("hashchange",function(){e=t.hash=p(location.hash),0==t.skip?t.to(e):t.skip>0?t.skip--:t.skip=0}),t.promise})},navigate:function(t){t=p(t),this.skip++,location.hash=t},to:function(t){t=p(t);var e=this,n=e.promise;n.then(function(){var i=e._currentActivity,r=e.route.match(t);return 0==n.queue.length&&t!=p(location.hash)&&e.navigate(t),i.path==r.path?(d(i,r),void n.resolve()):(e.get(r,function(t){t.path==i.path?d(t,r):(e._currentActivity=t,null===t.el.parentNode&&t.$el.appendTo(i.application.el),t.$el.show().siblings(".view").hide(),t.then(function(){t.trigger("Resume").trigger("Show")})),n.resolve()}),n)})}});sl.Navigation=v,n.exports=v});define("core/route",function(t,e,n){var i=function(t){return(t.replace(/^#+|\/$/,"")||"/").toLowerCase()},r=function(t,e){var i,r,s,o,a,u,n=[];for(var c in t){if(i=t[c],r=[],u="^(?:/{0,1})"+c.replace(/(\/|^|\?)\{((?:.+?\{[^\}]+\}){0,}[^\}]*)\}/g,function(t,e,n){return a=n.split(":"),a.length>1&&(r.push(a.shift()),n=a.join(":")),e+"("+n+")"})+"$","string"==typeof i)throw new Error("Route options error");s=i.root||"/",o="/"!=s?s.replace(/^\//,"")+"/":"",n.push({regex:new RegExp(u),parts:r,template:o+i.template,view:o+i.controller,api:i.api,root:s})}this.isDebug=e!==!1,this.routes=n};r.prototype.match=function(t){var o,u,c,e=null,n={},r=t=i(t),s=t.indexOf("?"),a=this.routes;-1!=s?(o=t.substr(s+1),t=t.substr(0,s),o.replace(/(?:^|&)([^=&]+)=([^&]*)/g,function(t,e,i){return n[e]=decodeURIComponent(i),""})):o="";for(var l=0,h=a.length;h>l;l++)if(u=a[l],c=u.regex?t.match(u.regex):null){e={path:c[0],url:r,hash:"#"+r,root:u.root,template:u.template,"package":this.isDebug?!1:"/"==u.root?"controller":u.root.replace(/^\//,"")+"/controller",view:u.view,data:{},queryString:o,queries:n};for(var f=0,p=u.parts.length;p>f;f++)e.data[u.parts[f]]=c[f+1];u.api&&(e.api=u.api.replace(/\{([^\}]+?)\}/g,function(t,n){return e.data[n]}));break}return e},r.standardizeHash=i,n.exports=r});define("core/animation",function(t,e){for(var n=t("$"),i=t("./linklist"),r=t("graphics/matrix2d"),s=t("graphics/tween"),o=["webkit"],a=0;a<o.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[o[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[a]+"CancelAnimationFrame"]||window[o[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(function(){t(currTime+timeToCall)},16.7)},window.cancelAnimationFrame=function(t){clearTimeout(t)});var u=new i,c=!0,l=n.fx.cssPrefix+"transform",h={opacity:1},p=/(\d+\.\d+|\d+)\%/g,d=/translate\((\-{0,1}\d+(?:\.\d+){0,1}(?:\%|px){0,1})\s*\,\s*(\-{0,1}\d+(?:\.\d+){0,1}(?:\%|px){0,1})\)/,v=/matrix\((\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\,\s*(\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\,\s*(\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\,\s*(\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\,\s*(\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\,\s*(\-{0,1}\d+\.\d+|\-{0,1}\d+)\s*\)/,m=/(translate|skew|rotate|scale|matrix)\(([^\)]+)\)/g,g=/matrix\([^\)]+\)\s*$/,y=function(t){if(t){t instanceof Array||(t=[t]);for(var e=0,n=t.length;n>e;e++)"string"==typeof t[e]&&(t[e]=s[t[e].replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})])}else t=[s.easeOut];return t},b=function(t){var e=[];return n.each(t,function(t,n){e.push(isNaN(parseFloat(n))?0:parseFloat(n))}),e},w=function(t,e,n){return parseFloat(t)+(parseFloat(e)-parseFloat(t))*n},_=function(t){var e=new r;return t.replace(m,function(t,n,i){e["matrix"==n?"append":n].apply(e,b(i.split(",")))}),e},x=function(t){var i,s,e={};return n.each(t,function(t,n){/matrix|translate|skew|rotate|scale|invert/.test(t)?("translate"===t?n=(e[l]||"")+" "+t+"("+n+")":(s||(s=new r),i=e[l]||"",n=s["matrix"==t?"append":t].apply(s,b(n.split(","))).toString(),n=g.test(i)?i.replace(g,n):i+" "+n),t=l):"transform"===t&&(t=l,s=null),e[t]=n}),{css:e,matrix:s}};e.transform=x,n.fn.transform=function(t){return this.css(x(t).css),this},n.fn.matrix=function(t){return t instanceof r?(this.css(l,t.toString()),this):_(getComputedStyle(this[0],null)[l])};var E=function(){if(u.length){c=!1;for(var t,e,n,o,s=(+new Date,u._idlePrev);s!=u;){if(o=s._idlePrev,first=s.data,t=Date.now()-first.startTime,n=[],e=first.ease,t<=first.duration){for(var a=0,l=e.length;l>a;a++)n.push(e[a](t,first.from,first.to-first.from,first.duration)/100);first.step.apply(first,n)}else{for(var h=first.to/100,a=0,l=e.length;l>a;a++)n.push(h);first.step.apply(first,n),u._remove(s),first.finish&&first.finish(h)}s=o}requestAnimationFrame(E)}else c=!0},A=function(t){return t.startTime=Date.now(),t.ease=y(t.ease),t.stop=function(){u.remove(t)},void 0===t.from&&(t.from=0),void 0===t.to&&(t.to=100),t.duration||(t.duration=300),t},T=function(t){for(var e=0,n=t.length;n>e;e++)u.append(A(t[e]));c&&E()},k=function(t){var e,i,r,s,o;this.el.each(function(){if(e=this._animationStyle,i=this._originStyle,0==t)o=i;else if(1>t){o={};for(var a in e)if(s=e[a],r=i[a],a==l){var u=r.match(v)||["",1,0,0,1,0,0],f=_(s);f.a=w(u[1],f.a,t),f.b=w(u[2],f.b,t),f.c=w(u[3],f.c,t),f.d=w(u[4],f.d,t),f.tx=w(u[5],f.tx,t),f.ty=w(u[6],f.ty,t),o[a]=f.toString()}else isNaN(parseFloat(s))?o[a]=s:(r=isNaN(parseFloat(r))?h[a]||0:parseFloat(r),o[a]=w(r,s,t))}else o=e;n(this).css(o)}),this._step&&this._step(t)},O=function(t){1==t&&this.el.css(this.css),this._finish&&this._finish(t)},M=function(t){for(var e,i,s,u=0,c=t.length;c>u;u++)e=t[u],e.css&&(s=x(e.css),e.matrix=s.matrix,e.css=s.css,i=e.el=n(e.el),"object"==typeof e.start&&i.transform(e.start),i.each(function(){var t=this,i={},r={},s=getComputedStyle(t,null);n.each(e.css,function(e,n){"string"==typeof n&&(e==l?n=n.replace(d,function(e,n,i){return"translate("+(-1!==n.indexOf("%")?t.offsetWidth*parseFloat(n)/100:parseFloat(n))+"px,"+(-1!==i.indexOf("%")?t.offsetHeight*parseFloat(i)/100:parseFloat(i))+"px)"}):/^(top|margin(-t|T)op)$/.test(e)?n=n.replace(p,function(e){return t.parentNode.offsetHeight*parseFloat(e)/100+"px"}):/^(left|margin(-l|L)eft|padding(-l|L)eft|padding(-t|T)op)$/.test(e)&&(n=n.replace(p,function(e){return t.parentNode.offsetWidth*parseFloat(e)/100+"px"}))),r[e]=s[e],i[e]=n}),t._animationStyle=i,t._originStyle=r}),e._step=e.step,e.step=k,e._finish=e.finish,e.finish=O);return t},j=function(t){n.isArray(t)||(t=[t]),M(t),this.list=t};j.prototype.step=function(t){for(var e,n=this.list,i=0,r=n.length;r>i;i++)e=n[i],e.from=t,e.step(t/100);return this},j.prototype.animate=function(t,e,n){for(var i,r=this.list,s=0,o=r.length;o>s;s++)i=r[s],i.duration=t,i.to=e,i.finish=i.start=void 0;return i.finish=n,T(r),this},e.Animation=j,e.parallel=function(t){T(M(t))},e.animate=function(){var t=Array.prototype.slice.call(arguments),e={},n=0,i=t[n++];return"function"==typeof i?e.step=i:(e.el=i,e.css=t[n++]),e.duration=t[n++],e.ease=t[n++],e.finish=t[n],T([e]),e};var S={step:function(t){for(var i,e=0,n=this.momentums.length;n>e;e++)i=this.momentums[e],i.current=i.start+(i.result-i.start)*t;this.momentumStep.apply(this.ctx,this.momentums)},finish:function(){this.bounce()},bounce:function(){for(var e,n,s,t=0,i=0,r=this.momentums.length;r>i;i++)s=this.momentums[i],n=s.current<s.min?s.min:s.current>s.max?s.max:s.current,n!=s.current?(s.start=s.current,s.result=n,t++):s.divisor&&n%s.divisor!=0&&(e=s.divisor,s.start=s.current,s.result=e/2>n%e?n-n%e:n-n%e+e,t++);0==t?this.end.call(this.ctx):(this.duration=400,T([this]))}},N=function(t,e,n,i,r,s,o){var v,m,a=e-t,u=r-e,c=e-i,l=6e-4,h=Math.abs(a)/n,f=h*h/(2*l),p=0,d=0;return s=o||s,a>0&&f>u?(d=s/(6/(f/h*l))/2,u+=d,h=h*u/f,f=u):0>a&&f>c&&(d=s/(6/(f/h*l))/2,c+=d,h=h*c/f,f=c),f*=0>a?-1:1,d*=0>a?-1:1,p=h/l,m=e+f,0!=d&&(v=.15/(d/f),v>1&&(f-=d,d/=v,f+=d,m=e+f)),i>e&&i>m||e>r&&m>r?(f=0,p=0,outside=0,m=e):(o&&0==d&&(m=m%o==0?m:o/2>m%o?m-m%o:m-m%o+o,m=m>r?r:i>m?i:m,300>p&&(p=300),f=m-e),o&&p>400&&(p=400)),{dist:f,time:Math.round(p),outside:d,result:m,current:e,start:e,max:r,min:i,divisor:o}};e.momentum=function(t,e,i,r,s,o){var a=[],u={},c=0;if("number"==typeof t[0])t=[t];else if(!t.length)return void s.call(o);for(var f,l=0,h=t.length;h>l;l++)f=N.apply(this,t[l]),0!=f.dist&&(c=Math.max(c,f.time)),a.push(f);for(var f,l=0,h=a.length;h>l;l++)f=a[l],0!=f.outside&&(f.result=f.result-f.outside+400*f.outside/c);return n.extend(u,S,{ctx:o||u,momentums:a,momentumStep:i,duration:c,ease:r,end:s}),0!=c?(e&&u.duration>e&&(u.duration=e),T([u])):u.bounce(),u}});define("core/master",function(t,e,n){var r=(t("$"),t("util")),s=t("./route"),o=r.getPath,a={checkQueryString:function(t,e){t.route.url!=e.url&&(t._setRoute(e),t.trigger("QueryChange"))},mapRoute:function(t,e){return this.route=new s(t,e),this},skip:0,_currentActivity:null,_activities:{},set:function(t,e){this._activities[o(t)]=e},get:function(t,e){var n=this,i="string"==typeof t?n.route.match(t):t;if(i){var r=o(i.path),s=this._activities[r];null==s?!function(t){i["package"]?seajs.use(i["package"],t):t()}(function(){seajs.use(i.view,function(t){var a,o={application:n,route:i};null!=t?(a=n.$el.find('[data-path="'+i.path+'"]'),a.length&&(o.el=a),s=new t(o),n.set(r,s),s.then(function(){e.call(n,s,i)})):(n.skip++,location.hash=n._currentActivity.url)})}):e.call(n,s,i)}},remove:function(t){this._activities[o(t)]=void 0}};n.exports=a});define("widget/tip",function(t,e){var n=t("$"),r=(t("util"),t("core/promise")),s=n('<div class="tip" style="display:none"></div>').on(n.fx.transitionEnd,function(){s.hasClass("tip-hide")&&s.hide()}).appendTo(document.body);e.promise=r.resolve(),e.msec=2e3,e.show=function(){s.hasClass("tip-show")||s.removeClass("tip-hide").show().addClass("tip-show")},e.msg=function(t){var e=this;e.promise.then(function(){return s.html(t),e.show(),setTimeout(function(){e.hide(),e.promise.resolve()},e.msec),this})},e.hide=function(){s.removeClass("tip-show").addClass("tip-hide")},sl.tip=function(t){e.msg(t)}});define("widget/dialog",["$","util","./../core/base","./../core/view"],function(t,e,n){var i=t("$"),r=t("util"),s=t("./../core/view"),o=null,a=s.extend({events:{"tap .js_dialog_btn":"action","tap .js_close_dialog":function(){this.hide()},touchmove:function(t){t.preventDefault()}},className:"dialog",el:"<div></div>",template:r.template('<%if(isShowClose){%><div class="dialog-close js_close_dialog"></div><%}%><%if(isShowTitle){%><div class="dialog-title"><h3 class="js_title"><%=title%></h3></div><%}%><div class="dialog-content js_content"><%=content%></div><div class="dialog-btns"><%for(var i=0,len=buttons.length,button;i<n;i++){button=buttons[i];%><a class="dialog-btn js_dialog_btn<%=button.className?" "+button.className:" "%>"><%=button.text%></a><%}%></div>'),options:{isShowClose:!1,isShowTitle:!0,title:null,content:null,buttons:[]},title:function(t){return"undefined"==typeof t?this.$title.html():(this.$title.html(t),this)},initialize:function(){var t=this,e=r.pick(t.options,["isShowClose","isShowTitle","title","content","buttons"]);t.$el.html(t.template(e)),t.$title=t.$(".js_title"),t.$content=t.$(".js_content")},action:function(t){this.options.buttons[i(t.currentTarget).index()].click.call(this,t)},hide:function(){var t=this;t._visible&&(t._visible=!1,o.hide(),t.$el.css({"-webkit-transform":"scale(1)",opacity:1}).animate({opacity:0,scale:0},300,"ease-out",function(){t.$el.hide(),t.trigger("Hide")}))},show:function(t){var e=this;e._visible||(e._visible=!0,t=i(t),o||(o=i('<div style="position:fixed;top:0px;bottom:0px;right:0px;width:100%;background: #888;opacity: 0.5;z-index:2000;display:none"></div>').appendTo(document.body)),o.show(),null==e.el.parentNode&&e.$el.appendTo(document.body),e.$el.css({"-webkit-transform":"",display:"block",top:"50%"}),e.$el.css({marginTop:this.$el.height()/-2,"-webkit-transform":"scale(0)",opacity:0}).animate({opacity:1,scale:1},300,"ease-out",function(){e.trigger("Show")}))},content:function(t){return"undefined"==typeof t?this.$content:void this.$content.html(t)}}),u=null;sl.prompt=function(t,e,n){e||(e=t,t="请输入"),u?u.title(t):u=new a({title:t,content:'<input type="text" class="prompt-text" /><input type="password" class="prompt-text" />'}),u.$("input.prompt-text").val("").hide().filter('[type="'+(n||"text")+'"]').show(),u.options.onOk=function(){return e.call(this,this.$('input[type="'+(n||"text")+'"].prompt-text').val())},u.options.onCancel=function(){e.call(this)},u.show(),i(window).one("hashchange",function(){u.hide()})};var c=null;return sl.confirm=function(t,e,n,r){var s={};i.isPlainObject(t)?(r=n,n=e,i.extend(s,t)):i.isFunction(e)?(r=n,n=e,s.content=t,s.title="确认提示"):(s.title=t,s.content=e),c?(c.title(s.title),c.$(".dialog-content").html(s.content),c.$(".js_hide").html(s.cancelText||"取消"),c.$(".js_ok").html(s.okText||"确定")):c=new a(s),c.options.onOk=function(){n.call(this)},c.options.onCancel=function(){r&&r.call(this)},c.show(),i(window).one("hashchange",function(){c.hide()})},a});